INFO 2025-10-22 11:27:26,816 autoreload 13868 16888 Watching for file changes with StatReloader
WARNING 2025-10-22 11:27:36,479 log 13868 3396 Method Not Allowed: /api/accounts/token/
ERROR 2025-10-22 11:27:43,070 log 13868 15776 Internal Server Error: /api/accounts/token/
Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\sqlite3\base.py", line 328, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: accounts_customuser

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework_simplejwt\views.py", line 43, in post
    serializer.is_valid(raise_exception=True)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\serializers.py", line 227, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\serializers.py", line 429, in run_validation
    value = self.validate(value)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\Desktop\MAKAU RENTALS -COMBINED\Makau Rentals\app\accounts\serializers.py", line 28, in validate
    user = authenticate(self.context['request'], email=email, password=password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\debug.py", line 42, in sensitive_variables_wrapper
    return func(*func_args, **func_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\__init__.py", line 77, in authenticate
    user = backend.authenticate(request, **credentials)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\backends.py", line 46, in authenticate
    user = UserModel._default_manager.get_by_natural_key(username)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\base_user.py", line 54, in get_by_natural_key
    return self.get(**{self.model.USERNAME_FIELD: username})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 633, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 380, in __len__
    self._fetch_all()
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 1881, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\sqlite3\base.py", line 328, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: no such table: accounts_customuser
ERROR 2025-10-22 11:33:19,227 log 13868 9340 Internal Server Error: /api/accounts/token/
Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\sqlite3\base.py", line 328, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: accounts_customuser

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework_simplejwt\views.py", line 43, in post
    serializer.is_valid(raise_exception=True)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\serializers.py", line 227, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\serializers.py", line 429, in run_validation
    value = self.validate(value)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\Desktop\MAKAU RENTALS -COMBINED\Makau Rentals\app\accounts\serializers.py", line 28, in validate
    user = authenticate(self.context['request'], email=email, password=password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\debug.py", line 42, in sensitive_variables_wrapper
    return func(*func_args, **func_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\__init__.py", line 77, in authenticate
    user = backend.authenticate(request, **credentials)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\backends.py", line 46, in authenticate
    user = UserModel._default_manager.get_by_natural_key(username)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\base_user.py", line 54, in get_by_natural_key
    return self.get(**{self.model.USERNAME_FIELD: username})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 633, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 380, in __len__
    self._fetch_all()
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 1881, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\sqlite3\base.py", line 328, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: no such table: accounts_customuser
INFO 2025-10-22 11:33:46,349 autoreload 17664 15052 Watching for file changes with StatReloader
ERROR 2025-10-22 11:33:52,379 log 17664 18604 Internal Server Error: /api/accounts/token/
Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\sqlite3\base.py", line 328, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: accounts_customuser

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework_simplejwt\views.py", line 43, in post
    serializer.is_valid(raise_exception=True)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\serializers.py", line 227, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\serializers.py", line 429, in run_validation
    value = self.validate(value)
            ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\Desktop\MAKAU RENTALS -COMBINED\Makau Rentals\app\accounts\serializers.py", line 28, in validate
    user = authenticate(self.context['request'], email=email, password=password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\debug.py", line 42, in sensitive_variables_wrapper
    return func(*func_args, **func_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\__init__.py", line 77, in authenticate
    user = backend.authenticate(request, **credentials)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\backends.py", line 46, in authenticate
    user = UserModel._default_manager.get_by_natural_key(username)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\base_user.py", line 54, in get_by_natural_key
    return self.get(**{self.model.USERNAME_FIELD: username})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 633, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 380, in __len__
    self._fetch_all()
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 1881, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\sqlite3\base.py", line 328, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: no such table: accounts_customuser
INFO 2025-10-22 11:41:13,070 autoreload 12796 8572 Watching for file changes with StatReloader
WARNING 2025-10-22 11:41:17,972 log 12796 19480 Method Not Allowed: /api/accounts/token/
WARNING 2025-10-22 11:41:32,909 log 12796 13808 Bad Request: /api/accounts/token/
WARNING 2025-10-22 11:41:43,775 log 12796 6980 Bad Request: /api/accounts/token/
WARNING 2025-10-22 11:41:53,140 log 12796 6980 Bad Request: /api/accounts/token/
WARNING 2025-10-22 11:42:37,187 log 12796 6980 Bad Request: /api/accounts/token/
INFO 2025-10-22 15:47:22,081 autoreload 16060 7176 Watching for file changes with StatReloader
WARNING 2025-10-22 15:47:30,021 log 16060 14984 Method Not Allowed: /api/accounts/token/
WARNING 2025-10-22 15:47:31,483 log 16060 14984 Not Found: /favicon.ico
WARNING 2025-10-22 15:47:43,797 log 16060 16148 Bad Request: /api/accounts/token/
WARNING 2025-10-22 16:16:25,555 log 16060 1836 Bad Request: /api/accounts/token/
WARNING 2025-10-23 04:47:08,922 log 16060 9692 Not Found: /api/validate-landlord/
WARNING 2025-10-23 04:49:16,979 log 16060 9692 Not Found: /api/register/
WARNING 2025-10-23 04:50:58,819 log 16060 9692 Not Found: /api/token/
WARNING 2025-10-23 04:51:12,096 log 16060 9692 Not Found: /api/token/
WARNING 2025-10-23 04:51:27,650 log 16060 9692 Not Found: /api/token/
WARNING 2025-10-23 04:52:10,255 log 16060 15076 Not Found: /api/accounts/units/
WARNING 2025-10-23 04:52:10,632 log 16060 15076 Not Found: /api/accounts/units/
WARNING 2025-10-23 04:52:11,114 log 16060 15444 Not Found: /api/accounts/tenants/
WARNING 2025-10-23 04:52:11,299 log 16060 6172 Not Found: /api/accounts/landlords/profile/
WARNING 2025-10-23 04:52:11,465 log 16060 7848 Not Found: /api/accounts/tenants/
WARNING 2025-10-23 04:52:11,999 log 16060 15444 Not Found: /api/accounts/landlords/profile/
WARNING 2025-10-23 04:52:45,457 log 16060 15076 Not Found: /api/accounts/units/
WARNING 2025-10-23 04:52:45,529 log 16060 7848 Not Found: /api/accounts/units/
WARNING 2025-10-23 04:52:46,373 log 16060 7848 Not Found: /api/accounts/tenants/
WARNING 2025-10-23 04:52:46,457 log 16060 15444 Not Found: /api/accounts/tenants/
WARNING 2025-10-23 04:52:46,479 log 16060 15076 Not Found: /api/accounts/landlords/profile/
WARNING 2025-10-23 04:52:46,773 log 16060 15444 Not Found: /api/accounts/landlords/profile/
INFO 2025-10-23 04:55:56,506 autoreload 16060 7176 C:\Users\George Mwangi\Desktop\MAKAU RENTALS -COMBINED\Makau Rentals\app\accounts\urls.py changed, reloading.
INFO 2025-10-23 04:56:05,437 autoreload 15080 7888 Watching for file changes with StatReloader
INFO 2025-10-23 05:10:55,581 autoreload 15080 7888 C:\Users\George Mwangi\Desktop\MAKAU RENTALS -COMBINED\Makau Rentals\app\accounts\models.py changed, reloading.
INFO 2025-10-23 05:11:07,913 autoreload 5048 15472 Watching for file changes with StatReloader
INFO 2025-10-23 05:11:50,825 autoreload 5048 15472 C:\Users\George Mwangi\Desktop\MAKAU RENTALS -COMBINED\Makau Rentals\app\accounts\models.py changed, reloading.
INFO 2025-10-23 05:11:54,967 autoreload 10456 8524 Watching for file changes with StatReloader
INFO 2025-10-23 05:12:01,328 autoreload 10456 8524 C:\Users\George Mwangi\Desktop\MAKAU RENTALS -COMBINED\Makau Rentals\app\accounts\models.py changed, reloading.
INFO 2025-10-23 05:12:07,139 autoreload 13260 7848 Watching for file changes with StatReloader
INFO 2025-10-23 05:14:46,270 autoreload 13260 7848 C:\Users\George Mwangi\Desktop\MAKAU RENTALS -COMBINED\Makau Rentals\app\accounts\models.py changed, reloading.
INFO 2025-10-23 05:14:51,213 autoreload 15260 10428 Watching for file changes with StatReloader
INFO 2025-10-23 05:15:15,011 autoreload 15260 10428 C:\Users\George Mwangi\Desktop\MAKAU RENTALS -COMBINED\Makau Rentals\app\accounts\models.py changed, reloading.
INFO 2025-10-23 05:15:22,632 autoreload 9156 13528 Watching for file changes with StatReloader
INFO 2025-10-23 05:15:31,933 autoreload 9156 13528 C:\Users\George Mwangi\Desktop\MAKAU RENTALS -COMBINED\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-23 05:15:36,071 autoreload 8352 10720 Watching for file changes with StatReloader
INFO 2025-10-23 05:16:01,204 autoreload 8352 10720 C:\Users\George Mwangi\Desktop\MAKAU RENTALS -COMBINED\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-23 05:16:05,880 autoreload 7692 12580 Watching for file changes with StatReloader
INFO 2025-10-23 05:17:44,765 autoreload 7692 12580 C:\Users\George Mwangi\Desktop\MAKAU RENTALS -COMBINED\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-23 05:17:50,387 autoreload 3948 10488 Watching for file changes with StatReloader
WARNING 2025-10-23 05:19:53,860 log 3948 13544 Not Found: /api/validate-landlord/
WARNING 2025-10-23 05:21:41,497 log 3948 13544 Not Found: /api/register/
WARNING 2025-10-23 06:08:17,900 log 3948 7376 Not Found: /api/accounts/auth/landlord/complete/
WARNING 2025-10-23 06:08:32,233 log 3948 7376 Not Found: /api/accounts/auth/landlord/complete/
WARNING 2025-10-23 06:09:12,280 log 3948 7376 Not Found: /api/accounts/auth/landlord/complete/
INFO 2025-10-23 06:44:35,777 autoreload 9228 8996 Watching for file changes with StatReloader
WARNING 2025-10-23 06:50:54,378 log 9228 9948 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-23 06:50:54,387 log 9228 9948 Unauthorized: /api/accounts/tenants/
INFO 2025-10-23 06:59:46,013 autoreload 13564 15828 Watching for file changes with StatReloader
WARNING 2025-10-23 07:00:14,731 log 13564 16084 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-23 07:00:15,119 log 13564 15820 Unauthorized: /api/accounts/landlords/profile/
WARNING 2025-10-23 07:00:15,133 log 13564 16084 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-23 07:00:15,546 log 13564 15820 Unauthorized: /api/accounts/landlords/profile/
WARNING 2025-10-23 07:02:09,039 log 13564 15820 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-23 07:02:09,041 log 13564 16084 Unauthorized: /api/accounts/landlords/profile/
WARNING 2025-10-23 07:02:09,057 log 13564 16084 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-23 07:02:09,064 log 13564 16084 Unauthorized: /api/accounts/landlords/profile/
INFO 2025-10-24 06:55:30,065 autoreload 4028 10064 Watching for file changes with StatReloader
WARNING 2025-10-24 08:10:40,415 log 4028 3712 Unauthorized: /api/accounts/me/
WARNING 2025-10-24 08:10:51,963 log 4028 3712 Unauthorized: /api/accounts/me/
WARNING 2025-10-24 08:54:03,160 log 4028 3688 Bad Request: /api/accounts/token/
WARNING 2025-10-24 08:54:19,237 log 4028 3688 Bad Request: /api/accounts/token/
INFO 2025-10-24 09:21:08,277 autoreload 4028 10064 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-24 09:21:22,640 autoreload 8320 12816 Watching for file changes with StatReloader
WARNING 2025-10-24 11:01:07,515 log 8320 14940 Bad Request: /api/accounts/landlord/register/complete/
WARNING 2025-10-24 11:43:54,960 log 8320 4280 Bad Request: /api/accounts/landlord/register/complete/
WARNING 2025-10-24 11:57:08,465 log 8320 17796 Bad Request: /api/accounts/landlord/register/complete/
WARNING 2025-10-24 12:01:43,508 log 8320 13516 Bad Request: /api/accounts/landlord/register/complete/
WARNING 2025-10-24 12:01:49,006 log 8320 13516 Bad Request: /api/accounts/landlord/register/complete/
WARNING 2025-10-24 12:01:50,643 log 8320 16656 Bad Request: /api/accounts/landlord/register/complete/
WARNING 2025-10-24 12:01:51,693 log 8320 16656 Bad Request: /api/accounts/landlord/register/complete/
WARNING 2025-10-24 12:02:12,032 log 8320 6036 Bad Request: /api/accounts/landlord/register/complete/
WARNING 2025-10-24 12:10:23,628 log 8320 3196 Bad Request: /api/accounts/landlord/register/complete/
WARNING 2025-10-24 12:20:02,340 log 8320 14636 Bad Request: /api/accounts/landlord/register/complete/
WARNING 2025-10-24 12:22:10,382 log 8320 14636 Bad Request: /api/accounts/landlord/register/complete/
INFO 2025-10-24 12:28:04,989 autoreload 8320 12816 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-24 12:28:12,435 autoreload 9148 9076 Watching for file changes with StatReloader
WARNING 2025-10-24 12:29:26,221 log 9148 2148 Bad Request: /api/accounts/landlord/register/complete/
INFO 2025-10-24 12:33:52,691 autoreload 9148 9076 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-24 12:33:56,368 autoreload 12184 11532 Watching for file changes with StatReloader
INFO 2025-10-24 12:35:00,157 autoreload 12184 11532 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-24 12:35:08,703 autoreload 10116 5984 Watching for file changes with StatReloader
INFO 2025-10-24 12:37:27,177 autoreload 10116 5984 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\models.py changed, reloading.
INFO 2025-10-24 12:37:31,025 autoreload 12580 17064 Watching for file changes with StatReloader
INFO 2025-10-24 12:38:03,001 autoreload 12580 17064 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-24 12:38:06,436 autoreload 8056 17348 Watching for file changes with StatReloader
INFO 2025-10-24 12:38:24,669 autoreload 8056 17348 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-24 12:38:28,615 autoreload 10616 16412 Watching for file changes with StatReloader
INFO 2025-10-24 12:38:42,190 autoreload 10616 16412 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-24 12:38:45,890 autoreload 6644 15976 Watching for file changes with StatReloader
INFO 2025-10-24 12:39:48,218 autoreload 6644 15976 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-24 12:39:52,306 autoreload 7252 5700 Watching for file changes with StatReloader
INFO 2025-10-24 12:40:37,234 autoreload 7252 5700 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-24 12:40:39,918 autoreload 11840 16756 Watching for file changes with StatReloader
INFO 2025-10-24 12:41:36,076 autoreload 11840 16756 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-24 12:41:39,825 autoreload 1356 3268 Watching for file changes with StatReloader
INFO 2025-10-24 12:42:51,784 autoreload 1356 3268 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-24 12:42:55,497 autoreload 17664 3660 Watching for file changes with StatReloader
WARNING 2025-10-24 12:43:48,944 log 17664 15924 Bad Request: /api/accounts/landlord/register/complete/
INFO 2025-10-24 12:47:18,366 autoreload 17664 3660 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-24 12:47:21,923 autoreload 15132 14888 Watching for file changes with StatReloader
WARNING 2025-10-24 12:48:03,434 log 15132 7352 Bad Request: /api/accounts/landlord/register/complete/
WARNING 2025-10-24 12:48:17,755 log 15132 17292 Bad Request: /api/accounts/landlord/register/complete/
WARNING 2025-10-24 12:49:07,722 log 15132 5988 Bad Request: /api/accounts/landlord/register/complete/
WARNING 2025-10-24 12:58:06,800 log 15132 3268 Bad Request: /api/accounts/landlord/register/complete/
WARNING 2025-10-24 12:58:11,177 log 15132 11276 Method Not Allowed: /api/accounts/landlord/register/complete/
WARNING 2025-10-24 12:58:12,831 log 15132 15352 Not Found: /favicon.ico
WARNING 2025-10-24 13:15:35,416 log 15132 7184 Bad Request: /api/accounts/landlord/register/complete/
ERROR 2025-10-24 13:15:51,475 log 15132 15572 Internal Server Error: /admin/accounts/customuser/
Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\sqlite3\base.py", line 328, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: accounts_customuser.national_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\admin\options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\admin\sites.py", line 230, in inner
    if not self.has_permission(request):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\admin\sites.py", line 203, in has_permission
    return request.user.is_active and request.user.is_staff
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\functional.py", line 266, in inner
    self._setup()
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\functional.py", line 419, in _setup
    self._wrapped = self._setupfunc()
                    ^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\middleware.py", line 25, in <lambda>
    request.user = SimpleLazyObject(lambda: get_user(request))
                                            ^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\middleware.py", line 11, in get_user
    request._cached_user = auth.get_user(request)
                           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\__init__.py", line 198, in get_user
    user = backend.get_user(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\backends.py", line 161, in get_user
    user = UserModel._default_manager.get(pk=user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 633, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 380, in __len__
    self._fetch_all()
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 1881, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\sqlite3\base.py", line 328, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: no such column: accounts_customuser.national_id
ERROR 2025-10-24 13:27:13,593 log 15132 5488 Internal Server Error: /admin/accounts/customuser/
Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\sqlite3\base.py", line 328, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: accounts_customuser.national_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\admin\options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\admin\sites.py", line 230, in inner
    if not self.has_permission(request):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\admin\sites.py", line 203, in has_permission
    return request.user.is_active and request.user.is_staff
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\functional.py", line 266, in inner
    self._setup()
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\functional.py", line 419, in _setup
    self._wrapped = self._setupfunc()
                    ^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\middleware.py", line 25, in <lambda>
    request.user = SimpleLazyObject(lambda: get_user(request))
                                            ^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\middleware.py", line 11, in get_user
    request._cached_user = auth.get_user(request)
                           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\__init__.py", line 198, in get_user
    user = backend.get_user(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\backends.py", line 161, in get_user
    user = UserModel._default_manager.get(pk=user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 633, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 380, in __len__
    self._fetch_all()
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 1881, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\sqlite3\base.py", line 328, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: no such column: accounts_customuser.national_id
INFO 2025-10-24 13:28:05,899 autoreload 15568 6116 Watching for file changes with StatReloader
WARNING 2025-10-24 13:28:16,942 log 15568 18276 Bad Request: /api/accounts/landlord/register/complete/
INFO 2025-10-24 13:28:51,244 views 15568 18276 Subscription already exists for user 6
INFO 2025-10-24 13:28:51,245 views 15568 18276 Welcome email prepared for test309@example.com: Welcome to Makao Rentals - Your Landlord Account is Ready!
WARNING 2025-10-24 17:56:25,608 log 15568 18604 Unauthorized: /api/payments/initiate-deposit/
WARNING 2025-10-24 17:59:49,068 log 15568 18604 Unauthorized: /api/payments/initiate-deposit/
WARNING 2025-10-24 18:04:27,809 log 15568 18604 Unauthorized: /api/payments/initiate-deposit/
WARNING 2025-10-24 18:04:57,318 log 15568 18604 Unauthorized: /api/payments/initiate-deposit/
INFO 2025-10-24 18:15:29,235 autoreload 15568 6116 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-24 18:15:45,321 autoreload 9712 15776 Watching for file changes with StatReloader
INFO 2025-10-24 18:16:00,886 autoreload 9712 15776 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\urls.py changed, reloading.
INFO 2025-10-24 18:16:08,583 autoreload 18508 20284 Watching for file changes with StatReloader
INFO 2025-10-24 18:16:27,881 autoreload 18508 20284 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\urls.py changed, reloading.
INFO 2025-10-24 18:16:39,095 autoreload 10644 11268 Watching for file changes with StatReloader
INFO 2025-10-24 18:24:12,894 autoreload 10644 11268 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-24 18:24:21,497 autoreload 14296 8668 Watching for file changes with StatReloader
WARNING 2025-10-24 18:31:35,655 log 14296 9148 Unauthorized: /api/payments/initiate-deposit/
INFO 2025-10-24 18:41:40,569 autoreload 14296 8668 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-24 18:41:50,888 autoreload 10056 17448 Watching for file changes with StatReloader
INFO 2025-10-24 18:42:39,189 autoreload 10056 17448 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-24 18:42:45,870 autoreload 9824 20328 Watching for file changes with StatReloader
INFO 2025-10-24 19:49:12,288 autoreload 9824 20328 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-24 19:49:17,394 autoreload 9356 14860 Watching for file changes with StatReloader
ERROR 2025-10-24 20:29:20,365 views 9356 2356 Registration deposit STK push failed: Bad Request - Invalid CallBackURL
WARNING 2025-10-24 20:29:20,405 log 9356 2356 Bad Request: /api/payments/initiate-deposit-registration/
INFO 2025-10-25 05:02:08,609 autoreload 8104 16888 Watching for file changes with StatReloader
ERROR 2025-10-25 05:02:51,042 views 8104 19168 Registration deposit STK push failed: Wrong credentials
WARNING 2025-10-25 05:02:51,044 log 8104 19168 Bad Request: /api/payments/initiate-deposit-registration/
ERROR 2025-10-25 05:07:13,446 views 8104 19168 Registration deposit STK push failed: Wrong credentials
WARNING 2025-10-25 05:07:13,449 log 8104 19168 Bad Request: /api/payments/initiate-deposit-registration/
WARNING 2025-10-25 05:45:40,449 log 8104 18464 Not Found: /
WARNING 2025-10-25 05:45:40,851 log 8104 18464 Not Found: /favicon.ico
ERROR 2025-10-25 05:47:26,996 views 8104 9564 Registration deposit STK push failed: Wrong credentials
WARNING 2025-10-25 05:47:26,999 log 8104 9564 Bad Request: /api/payments/initiate-deposit-registration/
WARNING 2025-10-25 05:51:43,910 log 8104 12044 Method Not Allowed: /api/payments/initiate-deposit-registration/
ERROR 2025-10-25 05:52:14,565 views 8104 12044 Registration deposit payment error: JSON parse error - Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\parsers.py", line 64, in parse
    return json.load(decoded_stream, parse_constant=parse_constant)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\utils\json.py", line 31, in load
    return json.load(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 293, in load
    return loads(fp.read(),
           ^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 359, in loads
    return cls(**kw).decode(s)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py", line 642, in post
    unit_id = request.data.get('unit_id')
              ^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\request.py", line 216, in data
    self._load_data_and_files()
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\request.py", line 279, in _load_data_and_files
    self._data, self._files = self._parse()
                              ^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\request.py", line 354, in _parse
    parsed = parser.parse(stream, media_type, self.parser_context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\parsers.py", line 66, in parse
    raise ParseError('JSON parse error - %s' % str(exc))
rest_framework.exceptions.ParseError: JSON parse error - Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
ERROR 2025-10-25 05:52:14,649 log 8104 12044 Internal Server Error: /api/payments/initiate-deposit-registration/
ERROR 2025-10-25 05:53:25,445 views 8104 21260 Registration deposit STK push failed: Wrong credentials
WARNING 2025-10-25 05:53:25,448 log 8104 21260 Bad Request: /api/payments/initiate-deposit-registration/
ERROR 2025-10-25 05:53:39,919 views 8104 21260 Registration deposit STK push failed: Wrong credentials
WARNING 2025-10-25 05:53:39,922 log 8104 21260 Bad Request: /api/payments/initiate-deposit-registration/
INFO 2025-10-25 06:09:42,898 autoreload 8104 16888 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-25 06:09:47,874 autoreload 16760 4240 Watching for file changes with StatReloader
ERROR 2025-10-25 06:14:35,136 views 16760 12896 Registration deposit STK push failed: Wrong credentials
WARNING 2025-10-25 06:14:35,139 log 16760 12896 Bad Request: /api/payments/initiate-deposit-registration/
WARNING 2025-10-25 06:40:01,596 log 16760 19660 Not Found: /
WARNING 2025-10-25 06:40:41,269 log 16760 11012 Unauthorized: /api/payments/initiate-deposit/
ERROR 2025-10-25 06:47:22,949 views 16760 10024 Registration deposit STK push failed: Wrong credentials
WARNING 2025-10-25 06:47:22,952 log 16760 10024 Bad Request: /api/payments/initiate-deposit-registration/
WARNING 2025-10-25 07:00:41,204 log 16760 12208 Not Found: /payments/mpesa/deposit-callback/
WARNING 2025-10-25 07:00:55,089 log 16760 11664 Not Found: /payments/mpesa/deposit-callback/
WARNING 2025-10-25 07:01:44,734 log 16760 20032 Not Found: /api/payments
WARNING 2025-10-25 07:01:47,838 log 16760 20032 Not Found: /api/payments/
INFO 2025-10-25 07:09:35,327 autoreload 16760 4240 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-25 07:09:38,955 autoreload 14388 15156 Watching for file changes with StatReloader
INFO 2025-10-25 07:10:42,475 autoreload 14388 15156 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-25 07:10:45,768 autoreload 13336 8588 Watching for file changes with StatReloader
INFO 2025-10-25 07:11:14,094 autoreload 13336 8588 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-25 07:11:17,660 autoreload 17640 12956 Watching for file changes with StatReloader
ERROR 2025-10-25 07:13:17,335 views 17640 20572 Registration deposit STK push failed: Wrong credentials
WARNING 2025-10-25 07:13:17,338 log 17640 20572 Bad Request: /api/payments/initiate-deposit-registration/
INFO 2025-10-25 07:23:26,485 autoreload 17640 12956 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-25 07:23:32,898 autoreload 2656 11432 Watching for file changes with StatReloader
WARNING 2025-10-25 07:27:16,644 log 2656 8580 Not Found: /payments/mpesa/callback/deposit
INFO 2025-10-25 07:27:54,333 autoreload 2656 11432 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-25 07:27:59,548 autoreload 14012 5272 Watching for file changes with StatReloader
INFO 2025-10-25 07:29:15,939 views 14012 21472 Registration deposit STK push request: unit_id=4, phone=+254722714334, amount=5000
INFO 2025-10-25 07:29:15,958 views 14012 21472 Processing deposit payment: amount=5000.0, unit=2
INFO 2025-10-25 07:29:17,726 views 14012 21472 Access token generated successfully: 79SySRQLgTKO0mvdRCip...
INFO 2025-10-25 07:29:17,727 views 14012 21472 Sending STK push request to: https://sandbox.safaricom.co.ke/mpesa/stkpush/v1/processrequest
INFO 2025-10-25 07:29:17,727 views 14012 21472 Payload: {'BusinessShortCode': '174379', 'Password': 'MTc0Mzc5eW91ci1tcGVzYS1wYXNza2V5MjAyNTEwMjUwNzI5MTc=', 'Timestamp': '20251025072917', 'TransactionType': 'CustomerPayBillOnline', 'Amount': 5000, 'PartyA': '254722714334', 'PartyB': '174379', 'PhoneNumber': '254722714334', 'CallBackURL': 'https://makau-rentals-backend.onrender.com/payments/mpesa/deposit-callback/', 'AccountReference': 'DEPOSIT-REG-U-2-2-095bf7b8', 'TransactionDesc': 'Deposit payment for 2'}
INFO 2025-10-25 07:29:19,325 views 14012 21472 M-Pesa response: Status=500, Data={'requestId': '25a4-4cec-8aad-7f446ee0cced3930', 'errorCode': '500.001.1001', 'errorMessage': 'Wrong credentials'}
ERROR 2025-10-25 07:29:19,488 views 14012 21472 Full response: {'requestId': '25a4-4cec-8aad-7f446ee0cced3930', 'errorCode': '500.001.1001', 'errorMessage': 'Wrong credentials'}
WARNING 2025-10-25 07:29:19,490 log 14012 21472 Bad Request: /api/payments/initiate-deposit-registration/
INFO 2025-10-25 07:33:28,267 autoreload 14012 5272 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-25 07:33:33,566 autoreload 13092 14020 Watching for file changes with StatReloader
INFO 2025-10-25 07:45:58,237 autoreload 8668 18596 Watching for file changes with StatReloader
WARNING 2025-10-25 09:01:43,447 log 8668 7696 Not Found: /
INFO 2025-10-25 09:01:56,391 views 8668 33424 Registration deposit STK push request: unit_id=4, phone=+254722714334, amount=5000
INFO 2025-10-25 09:01:56,450 views 8668 33424 Processing deposit payment: amount=5000.0, unit=2
INFO 2025-10-25 09:01:58,353 views 8668 33424 Access token generated successfully: qd07Am13lwawjOJgfL3b...
INFO 2025-10-25 09:01:58,354 views 8668 33424 Sending STK push request to: https://sandbox.safaricom.co.ke/mpesa/stkpush/v1/processrequest
INFO 2025-10-25 09:01:58,354 views 8668 33424 Payload: {'BusinessShortCode': '174379', 'Password': 'MTc0Mzc5YmZiMjc5ZjlhYTliZGJjZjE1OGU5N2RkNzFhNDY3Y2QyZTBjODkzMDU5YjEwZjc4ZTZiNzJhZGExZWQyYzkxOTIwMjUxMDI1MDkwMTU4', 'Timestamp': '20251025090158', 'TransactionType': 'CustomerPayBillOnline', 'Amount': 5000, 'PartyA': '254722714334', 'PartyB': '174379', 'PhoneNumber': '254722714334', 'CallBackURL': 'https://preaccommodatingly-nonabsorbable-joanie.ngrok-free.dev/payments/callback/deposit', 'AccountReference': 'DEPOSIT-REG-U-2-2-095bf7b8', 'TransactionDesc': 'Deposit payment for 2'}
INFO 2025-10-25 09:01:59,687 views 8668 33424 M-Pesa response: Status=200, Data={'MerchantRequestID': '13c7-48d4-9578-55af6c2a47b813121', 'CheckoutRequestID': 'ws_CO_25102025090158882722714334', 'ResponseCode': '0', 'ResponseDescription': 'Success. Request accepted for processing', 'CustomerMessage': 'Success. Request accepted for processing'}
ERROR 2025-10-25 09:02:00,683 log 8668 33424 Internal Server Error: /api/payments/initiate-deposit-registration/
WARNING 2025-10-25 09:02:13,617 log 8668 37776 Not Found: /payments/callback/deposit
INFO 2025-10-25 09:08:42,277 autoreload 8668 18596 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\models.py changed, reloading.
INFO 2025-10-25 09:08:54,335 autoreload 29852 40860 Watching for file changes with StatReloader
INFO 2025-10-25 09:10:50,188 autoreload 29852 40860 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-25 09:10:56,731 autoreload 43032 16700 Watching for file changes with StatReloader
INFO 2025-10-25 09:11:44,329 autoreload 43032 16700 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-25 09:11:50,661 autoreload 44276 21380 Watching for file changes with StatReloader
INFO 2025-10-25 09:15:33,123 views 44276 36164 Registration deposit STK push request: unit_id=4, phone=+254722714334, amount=5000
INFO 2025-10-25 09:15:33,130 views 44276 36164 Processing deposit payment: amount=5000.0, unit=2
INFO 2025-10-25 09:15:35,257 views 44276 36164 Access token generated successfully: qdpSqqUnR0lwaX3GC1Cu...
INFO 2025-10-25 09:15:35,259 views 44276 36164 Sending STK push request to: https://sandbox.safaricom.co.ke/mpesa/stkpush/v1/processrequest
INFO 2025-10-25 09:15:35,260 views 44276 36164 Payload: {'BusinessShortCode': '174379', 'Password': 'MTc0Mzc5YmZiMjc5ZjlhYTliZGJjZjE1OGU5N2RkNzFhNDY3Y2QyZTBjODkzMDU5YjEwZjc4ZTZiNzJhZGExZWQyYzkxOTIwMjUxMDI1MDkxNTM1', 'Timestamp': '20251025091535', 'TransactionType': 'CustomerPayBillOnline', 'Amount': 5000, 'PartyA': '254722714334', 'PartyB': '174379', 'PhoneNumber': '254722714334', 'CallBackURL': 'https://preaccommodatingly-nonabsorbable-joanie.ngrok-free.dev/payments/callback/deposit', 'AccountReference': 'DEPOSIT-REG-U-2-2-095bf7b8', 'TransactionDesc': 'Deposit payment for 2'}
INFO 2025-10-25 09:15:37,347 views 44276 36164 M-Pesa response: Status=200, Data={'MerchantRequestID': '1f5d-424c-bb1f-e6a14457d7433126', 'CheckoutRequestID': 'ws_CO_25102025091536587722714334', 'ResponseCode': '0', 'ResponseDescription': 'Success. Request accepted for processing', 'CustomerMessage': 'Success. Request accepted for processing'}
WARNING 2025-10-25 09:15:47,085 log 44276 39612 Not Found: /payments/callback/deposit
WARNING 2025-10-25 09:16:29,919 log 44276 36164 Bad Request: /api/accounts/tenant/register/complete/
WARNING 2025-10-25 09:17:07,602 log 44276 34512 Not Found: /payments/callback/deposit
WARNING 2025-10-25 09:17:14,866 log 44276 34512 Not Found: /payments/callback/deposit/
WARNING 2025-10-25 09:17:54,512 log 44276 34512 Not Found: /payments/callback/deposit/
WARNING 2025-10-25 09:23:33,658 log 44276 36684 Bad Request: /api/accounts/tenant/register/complete/
WARNING 2025-10-25 09:26:51,967 views 44276 22684 Unit with code 4 not found
WARNING 2025-10-25 10:49:45,574 log 44276 32624 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-25 11:23:05,610 log 44276 45760 Not Found: /api/accounts/properties/P001/units/
WARNING 2025-10-25 11:25:21,118 log 44276 8448 Not Found: /api/accounts/properties/P001/units/
WARNING 2025-10-25 11:25:21,165 log 44276 8448 Not Found: /api/accounts/properties/P001/units/
WARNING 2025-10-25 11:25:24,983 log 44276 8448 Not Found: /api/communication/reports/
WARNING 2025-10-25 11:25:25,046 log 44276 8448 Not Found: /api/communication/reports/
WARNING 2025-10-25 11:25:38,462 log 44276 8448 Not Found: /api/accounts/properties/P001/units/
WARNING 2025-10-25 11:25:38,490 log 44276 45760 Not Found: /api/accounts/properties/P001/units/
WARNING 2025-10-25 11:25:39,548 log 44276 45760 Not Found: /api/communication/reports/
WARNING 2025-10-25 11:25:39,640 log 44276 45760 Not Found: /api/communication/reports/
WARNING 2025-10-25 11:32:57,193 log 44276 45760 Not Found: /api/accounts/properties/P001/units/
WARNING 2025-10-25 11:32:57,866 log 44276 45760 Not Found: /api/communication/reports/
WARNING 2025-10-25 11:34:05,550 log 44276 45760 Not Found: /api/accounts/properties/P001/units/
WARNING 2025-10-25 11:34:05,576 log 44276 45760 Not Found: /api/accounts/properties/P001/units/
WARNING 2025-10-25 11:34:08,534 log 44276 45760 Not Found: /api/communication/reports/
WARNING 2025-10-25 11:34:08,641 log 44276 45760 Not Found: /api/communication/reports/
WARNING 2025-10-25 11:34:38,687 log 44276 25552 Not Found: /api/accounts/properties/P001/units/
WARNING 2025-10-25 11:34:38,723 log 44276 44420 Not Found: /api/accounts/properties/P001/units/
WARNING 2025-10-25 11:34:39,090 log 44276 44420 Not Found: /api/communication/reports/
WARNING 2025-10-25 11:34:39,123 log 44276 45760 Not Found: /api/communication/reports/
WARNING 2025-10-25 11:35:10,999 log 44276 45760 Not Found: /api/communication/reports/
WARNING 2025-10-25 11:35:11,037 log 44276 44420 Not Found: /api/communication/reports/
INFO 2025-10-25 12:10:35,638 autoreload 44276 21380 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\views.py changed, reloading.
INFO 2025-10-25 12:10:43,207 autoreload 46196 43768 Watching for file changes with StatReloader
INFO 2025-10-25 12:11:05,863 autoreload 46196 43768 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\urls.py changed, reloading.
INFO 2025-10-25 12:11:11,182 autoreload 25456 39772 Watching for file changes with StatReloader
INFO 2025-10-25 12:12:10,168 autoreload 25456 39772 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\urls.py changed, reloading.
INFO 2025-10-25 12:12:14,196 autoreload 21492 11084 Watching for file changes with StatReloader
WARNING 2025-10-25 12:59:18,135 log 21492 39448 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-25 12:59:18,446 log 21492 39448 Unauthorized: /api/accounts/me/
WARNING 2025-10-25 12:59:18,485 log 21492 32040 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-25 12:59:18,513 log 21492 39448 Unauthorized: /api/accounts/me/
WARNING 2025-10-25 12:59:18,544 log 21492 39448 Unauthorized: /api/accounts/me/
WARNING 2025-10-25 12:59:18,616 log 21492 32040 Unauthorized: /api/accounts/me/
WARNING 2025-10-25 13:06:51,191 log 21492 33632 Not Found: /api/accounts/properties/P001/units/
WARNING 2025-10-25 13:06:51,237 log 21492 33632 Not Found: /api/accounts/properties/P001/units/
WARNING 2025-10-25 13:07:10,642 log 21492 36936 Not Found: /api/accounts/properties/P002/units/
WARNING 2025-10-25 13:19:11,469 log 21492 14636 Not Found: /
WARNING 2025-10-25 13:20:14,771 log 21492 26288 Not Found: /api/accounts/properties/P001/units/
WARNING 2025-10-25 13:20:14,883 log 21492 26288 Not Found: /api/accounts/properties/P001/units/
INFO 2025-10-25 13:26:14,899 autoreload 21492 11084 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-25 13:26:26,566 autoreload 29332 11632 Watching for file changes with StatReloader
INFO 2025-10-25 13:26:36,941 autoreload 29332 11632 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-25 13:26:40,787 autoreload 39144 45076 Watching for file changes with StatReloader
INFO 2025-10-25 13:27:00,121 autoreload 39144 45076 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-25 13:27:06,812 autoreload 3620 10320 Watching for file changes with StatReloader
WARNING 2025-10-25 13:27:15,201 log 3620 8292 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-25 13:27:15,817 log 3620 8292 Unauthorized: /api/communication/reports/
WARNING 2025-10-25 13:27:44,673 log 3620 8292 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-25 13:27:45,314 log 3620 8292 Unauthorized: /api/communication/reports/
WARNING 2025-10-25 13:28:23,679 log 3620 8292 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-25 13:28:24,229 log 3620 8292 Unauthorized: /api/communication/reports/
WARNING 2025-10-25 13:28:44,231 log 3620 8292 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-25 13:28:44,728 log 3620 8292 Unauthorized: /api/communication/reports/
WARNING 2025-10-25 13:29:42,211 log 3620 8292 Not Found: /api/accounts/properties/P001/units/
WARNING 2025-10-25 13:29:42,603 log 3620 8292 Not Found: /api/accounts/properties/P001/units/
WARNING 2025-10-25 13:29:58,355 log 3620 35808 Not Found: /api/accounts/properties/P001/units/
WARNING 2025-10-25 13:29:58,761 log 3620 8292 Not Found: /api/accounts/properties/P001/units/
WARNING 2025-10-25 14:30:23,695 log 3620 3412 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-25 15:31:23,849 log 3620 25608 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-25 15:45:25,373 log 3620 38464 Not Found: /api/api/accounts/tenants/
WARNING 2025-10-25 15:45:26,591 log 3620 46844 Not Found: /api/api/accounts/tenants/
WARNING 2025-10-25 15:45:27,794 log 3620 38464 Not Found: /api/api/accounts/tenants/
WARNING 2025-10-25 17:15:02,402 log 3620 22524 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-25 17:15:02,518 log 3620 28752 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-25 17:15:02,527 log 3620 22868 Unauthorized: /api/accounts/properties/
WARNING 2025-10-25 17:15:02,535 log 3620 15312 Unauthorized: /api/accounts/units/
WARNING 2025-10-25 17:15:02,545 log 3620 28696 Unauthorized: /api/communication/reports/
WARNING 2025-10-25 17:15:02,557 log 3620 7364 Unauthorized: /api/accounts/me/
WARNING 2025-10-25 17:15:02,946 log 3620 28752 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-25 17:15:03,014 log 3620 22524 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-25 17:15:03,162 log 3620 42456 Unauthorized: /api/accounts/properties/
WARNING 2025-10-25 17:15:03,251 log 3620 36860 Unauthorized: /api/accounts/units/
WARNING 2025-10-25 17:15:03,312 log 3620 33160 Unauthorized: /api/communication/reports/
WARNING 2025-10-25 17:15:03,317 log 3620 28752 Unauthorized: /api/accounts/me/
WARNING 2025-10-25 17:15:03,367 log 3620 20584 Unauthorized: /api/payments/rent-payments/
WARNING 2025-10-25 17:15:04,105 log 3620 36860 Unauthorized: /api/payments/rent-payments/
WARNING 2025-10-25 17:15:04,197 log 3620 21156 Unauthorized: /api/accounts/me/
WARNING 2025-10-25 17:15:05,049 log 3620 32716 Unauthorized: /api/accounts/me/
WARNING 2025-10-25 17:15:30,320 log 3620 34452 Unauthorized: /api/accounts/units/
WARNING 2025-10-25 18:24:42,310 log 3620 17704 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-25 18:24:42,317 log 3620 35584 Unauthorized: /api/accounts/units/
WARNING 2025-10-25 18:24:44,054 log 3620 46032 Unauthorized: /api/accounts/me/
WARNING 2025-10-25 18:24:44,058 log 3620 34928 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-25 18:24:44,062 log 3620 41804 Unauthorized: /api/accounts/properties/
WARNING 2025-10-25 18:24:44,068 log 3620 31708 Unauthorized: /api/accounts/units/
WARNING 2025-10-25 18:24:44,072 log 3620 46216 Unauthorized: /api/payments/rent-payments/
WARNING 2025-10-25 18:24:44,075 log 3620 27604 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-25 18:24:44,079 log 3620 40916 Unauthorized: /api/communication/reports/
WARNING 2025-10-25 18:24:44,588 log 3620 34928 Unauthorized: /api/accounts/me/
WARNING 2025-10-25 18:24:44,590 log 3620 46032 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-25 18:24:44,746 log 3620 29576 Unauthorized: /api/accounts/properties/
WARNING 2025-10-25 18:24:44,872 log 3620 46032 Unauthorized: /api/payments/rent-payments/
WARNING 2025-10-25 18:24:44,881 log 3620 1796 Unauthorized: /api/accounts/units/
WARNING 2025-10-25 18:24:45,004 log 3620 22996 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-25 18:24:45,072 log 3620 35652 Unauthorized: /api/communication/reports/
WARNING 2025-10-25 18:24:45,154 log 3620 16896 Unauthorized: /api/accounts/me/
WARNING 2025-10-25 18:24:45,953 log 3620 46032 Unauthorized: /api/accounts/me/
WARNING 2025-10-25 19:25:25,632 log 3620 16864 Unauthorized: /api/communication/reports/open/
INFO 2025-10-25 19:26:38,807 autoreload 3620 10320 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\models.py changed, reloading.
INFO 2025-10-25 19:26:46,327 autoreload 40852 46524 Watching for file changes with StatReloader
WARNING 2025-10-25 20:28:57,005 log 40852 36332 Unauthorized: /api/communication/reports/open/
INFO 2025-10-25 20:54:10,176 autoreload 40852 46524 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-25 20:54:18,844 autoreload 39180 23608 Watching for file changes with StatReloader
INFO 2025-10-25 20:54:25,478 autoreload 39180 23608 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-25 20:54:29,489 autoreload 35852 25152 Watching for file changes with StatReloader
INFO 2025-10-25 20:56:05,489 autoreload 35852 25152 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\models.py changed, reloading.
INFO 2025-10-25 20:56:10,030 autoreload 38408 25824 Watching for file changes with StatReloader
INFO 2025-10-25 20:57:22,226 autoreload 38408 25824 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-25 20:57:25,258 autoreload 16908 39628 Watching for file changes with StatReloader
INFO 2025-10-25 20:58:33,739 autoreload 16908 39628 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-25 20:58:36,953 autoreload 30436 25040 Watching for file changes with StatReloader
INFO 2025-10-25 20:59:15,367 autoreload 30436 25040 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-25 20:59:19,748 autoreload 17764 46300 Watching for file changes with StatReloader
INFO 2025-10-25 21:02:05,331 autoreload 17764 46300 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\urls.py changed, reloading.
INFO 2025-10-25 21:02:09,853 autoreload 30112 38632 Watching for file changes with StatReloader
INFO 2025-10-25 21:04:18,644 autoreload 30112 38632 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-25 21:04:21,951 autoreload 21268 12576 Watching for file changes with StatReloader
WARNING 2025-10-25 21:31:49,077 log 21268 29892 Unauthorized: /api/accounts/me/
WARNING 2025-10-25 21:31:49,079 log 21268 34020 Unauthorized: /api/payments/rent-payments/
WARNING 2025-10-25 21:31:49,087 log 21268 42552 Unauthorized: /api/accounts/units/
WARNING 2025-10-25 21:31:49,094 log 21268 31140 Unauthorized: /api/communication/reports/
WARNING 2025-10-25 21:31:49,195 log 21268 33944 Unauthorized: /api/accounts/properties/
WARNING 2025-10-25 21:31:49,203 log 21268 17640 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-25 21:31:49,209 log 21268 33960 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-25 21:31:49,836 log 21268 29892 Unauthorized: /api/payments/rent-payments/
WARNING 2025-10-25 21:31:49,839 log 21268 34020 Unauthorized: /api/accounts/me/
WARNING 2025-10-25 21:31:49,842 log 21268 31140 Unauthorized: /api/accounts/units/
WARNING 2025-10-25 21:31:49,845 log 21268 17640 Unauthorized: /api/communication/reports/
WARNING 2025-10-25 21:31:49,981 log 21268 1620 Unauthorized: /api/accounts/properties/
WARNING 2025-10-25 21:31:50,146 log 21268 44740 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-25 21:31:50,408 log 21268 29892 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-25 21:31:50,883 log 21268 45580 Unauthorized: /api/accounts/me/
WARNING 2025-10-25 21:31:51,445 log 21268 19592 Unauthorized: /api/accounts/me/
INFO 2025-10-25 21:49:26,030 autoreload 32752 14912 Watching for file changes with StatReloader
INFO 2025-10-26 09:05:08,985 autoreload 32752 14912 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\models.py changed, reloading.
INFO 2025-10-26 09:05:18,300 autoreload 34396 39388 Watching for file changes with StatReloader
INFO 2025-10-26 09:05:33,603 autoreload 34396 39388 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\models.py changed, reloading.
INFO 2025-10-26 09:05:44,095 autoreload 39368 29884 Watching for file changes with StatReloader
INFO 2025-10-26 09:06:15,653 autoreload 39368 29884 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-26 09:06:23,996 autoreload 42720 46216 Watching for file changes with StatReloader
INFO 2025-10-26 09:07:32,221 autoreload 42720 46216 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-26 09:07:39,745 autoreload 34076 18928 Watching for file changes with StatReloader
INFO 2025-10-26 09:10:52,390 autoreload 34076 18928 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\models.py changed, reloading.
INFO 2025-10-26 09:11:00,987 autoreload 36964 38088 Watching for file changes with StatReloader
INFO 2025-10-26 09:11:14,738 autoreload 36964 38088 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-26 09:11:25,893 autoreload 22036 30820 Watching for file changes with StatReloader
INFO 2025-10-26 09:12:17,374 autoreload 24776 34132 Watching for file changes with StatReloader
INFO 2025-10-26 09:16:53,434 autoreload 24776 34132 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\admin.py changed, reloading.
INFO 2025-10-26 09:17:00,822 autoreload 20660 23664 Watching for file changes with StatReloader
WARNING 2025-10-26 09:17:13,755 log 20660 21028 Unauthorized: /api/communication/reports/
WARNING 2025-10-26 09:17:13,756 log 20660 37348 Unauthorized: /api/accounts/me/
WARNING 2025-10-26 09:17:13,757 log 20660 41900 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-26 09:17:13,758 log 20660 16804 Unauthorized: /api/accounts/properties/
WARNING 2025-10-26 09:17:13,760 log 20660 26588 Unauthorized: /api/accounts/units/
WARNING 2025-10-26 09:17:13,761 log 20660 29256 Unauthorized: /api/payments/rent-payments/
WARNING 2025-10-26 09:17:13,762 log 20660 42324 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-26 09:17:14,181 log 20660 23052 Unauthorized: /api/communication/reports/
WARNING 2025-10-26 09:17:14,183 log 20660 3616 Unauthorized: /api/accounts/me/
WARNING 2025-10-26 09:17:14,333 log 20660 23400 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-26 09:17:14,858 log 20660 25540 Unauthorized: /api/accounts/properties/
WARNING 2025-10-26 09:17:14,887 log 20660 11424 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-26 09:17:14,891 log 20660 23416 Unauthorized: /api/accounts/units/
WARNING 2025-10-26 09:17:14,895 log 20660 19488 Unauthorized: /api/payments/rent-payments/
WARNING 2025-10-26 09:17:15,933 log 20660 23400 Unauthorized: /api/accounts/me/
WARNING 2025-10-26 09:17:16,670 log 20660 18568 Unauthorized: /api/accounts/me/
INFO 2025-10-26 09:20:23,143 autoreload 20660 23664 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-26 09:20:34,393 autoreload 37756 25152 Watching for file changes with StatReloader
INFO 2025-10-26 09:21:00,217 autoreload 37756 25152 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-26 09:21:08,153 autoreload 46956 24608 Watching for file changes with StatReloader
INFO 2025-10-26 09:22:07,453 autoreload 46956 24608 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-26 09:22:11,468 autoreload 25232 33012 Watching for file changes with StatReloader
WARNING 2025-10-26 10:20:11,840 log 25232 14724 Unauthorized: /api/communication/reports/
WARNING 2025-10-26 10:20:12,075 log 25232 46320 Unauthorized: /api/accounts/me/
WARNING 2025-10-26 10:20:12,223 log 25232 45752 Unauthorized: /api/payments/rent-payments/
WARNING 2025-10-26 10:20:12,367 log 25232 26896 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-26 10:20:12,457 log 25232 25276 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-26 10:20:12,465 log 25232 14724 Unauthorized: /api/communication/reports/
WARNING 2025-10-26 10:20:12,674 log 25232 46320 Unauthorized: /api/accounts/me/
WARNING 2025-10-26 10:20:12,731 log 25232 34676 Unauthorized: /api/accounts/units/
WARNING 2025-10-26 10:20:12,939 log 25232 33312 Unauthorized: /api/accounts/properties/
WARNING 2025-10-26 10:20:13,154 log 25232 14064 Unauthorized: /api/payments/rent-payments/
WARNING 2025-10-26 10:20:13,476 log 25232 45752 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-26 10:20:13,481 log 25232 26896 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-26 10:20:13,685 log 25232 29428 Unauthorized: /api/accounts/me/
WARNING 2025-10-26 10:20:13,961 log 25232 37576 Unauthorized: /api/accounts/units/
WARNING 2025-10-26 10:20:14,048 log 25232 45548 Unauthorized: /api/accounts/properties/
WARNING 2025-10-26 10:20:14,431 log 25232 27008 Unauthorized: /api/accounts/me/
WARNING 2025-10-26 10:34:16,967 log 25232 35272 Not Found: /accounts/tenants
WARNING 2025-10-26 10:34:20,289 log 25232 35272 Not Found: /accounts/tenants/
WARNING 2025-10-26 10:34:28,050 log 25232 35272 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-26 11:25:35,778 log 25232 21672 Unauthorized: /api/communication/reports/
WARNING 2025-10-26 12:27:17,362 log 25232 41504 Unauthorized: /api/communication/reports/
WARNING 2025-10-26 12:27:17,465 log 25232 39004 Unauthorized: /api/communication/reports/open/
INFO 2025-10-26 12:43:21,429 autoreload 35820 26716 Watching for file changes with StatReloader
WARNING 2025-10-26 12:57:59,924 log 35820 23112 Not Found: /api//payments/rent-payments/
WARNING 2025-10-26 12:58:06,128 log 35820 23112 Unauthorized: /api/payments/rent-payments/
INFO 2025-10-26 13:11:15,171 views 35820 14608 Bulk rent update completed by test309@example.com. Units updated: 2
INFO 2025-10-26 13:18:13,146 views 35820 41576 CreatePropertyView: User 6 attempting to create property
INFO 2025-10-26 13:18:13,148 views 35820 41576 Subscription found: free
INFO 2025-10-26 13:18:13,149 views 35820 41576 Current properties count: 1, max: 2
INFO 2025-10-26 13:18:13,150 views 35820 41576 Serializer valid, saving property for user 6
INFO 2025-10-26 13:18:13,188 views 35820 41576 Cache cleared for user 6
INFO 2025-10-26 13:18:13,189 views 35820 41576 Property created successfully: 3
WARNING 2025-10-26 13:27:18,699 log 35820 9940 Unauthorized: /api/communication/reports/open/
INFO 2025-10-26 13:29:22,386 autoreload 35820 26716 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-26 13:29:25,966 autoreload 36544 45624 Watching for file changes with StatReloader
INFO 2025-10-26 13:29:52,354 autoreload 36544 45624 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-26 13:29:54,782 autoreload 42968 28320 Watching for file changes with StatReloader
INFO 2025-10-26 13:30:12,272 autoreload 42968 28320 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-26 13:30:15,267 autoreload 40596 31520 Watching for file changes with StatReloader
WARNING 2025-10-26 13:33:48,711 log 40596 30620 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-26 13:33:49,297 log 40596 30620 Unauthorized: /api/accounts/token/refresh/
WARNING 2025-10-26 13:33:49,875 log 40596 30620 Unauthorized: /api/communication/reports/
INFO 2025-10-26 13:45:33,133 autoreload 40596 31520 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\serializers.py changed, reloading.
INFO 2025-10-26 13:45:36,573 autoreload 27536 44472 Watching for file changes with StatReloader
INFO 2025-10-26 13:46:00,486 autoreload 27536 44472 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\serializers.py changed, reloading.
INFO 2025-10-26 13:46:02,842 autoreload 26320 42240 Watching for file changes with StatReloader
INFO 2025-10-26 14:02:59,333 autoreload 26320 42240 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-26 14:03:02,293 autoreload 11576 27372 Watching for file changes with StatReloader
INFO 2025-10-26 14:06:06,364 autoreload 11576 27372 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-26 14:06:10,209 autoreload 25208 36468 Watching for file changes with StatReloader
WARNING 2025-10-26 14:06:31,810 log 25208 10488 Bad Request: /api/payments/stk-push-subscription/
INFO 2025-10-26 14:09:05,031 autoreload 25208 36468 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-26 14:09:07,430 autoreload 21280 15124 Watching for file changes with StatReloader
INFO 2025-10-26 14:11:07,251 autoreload 21280 15124 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-26 14:11:09,776 autoreload 19932 22008 Watching for file changes with StatReloader
INFO 2025-10-26 14:11:50,163 views 19932 42568 Subscription callback received: {'Body': {'stkCallback': {'MerchantRequestID': '1d98-42f3-9cf7-c3703adb52e318643', 'CheckoutRequestID': 'ws_CO_26102025141133998722714334', 'ResultCode': 1037, 'ResultDesc': 'DS timeout user cannot be reached.'}}}
INFO 2025-10-26 14:11:50,163 views 19932 42568 Subscription callback - ResultCode: 1037, CheckoutRequestID: ws_CO_26102025141133998722714334
ERROR 2025-10-26 14:11:50,164 views 19932 42568 Subscription payment failed - ResultCode: 1037, Description: DS timeout user cannot be reached.
INFO 2025-10-26 14:17:59,890 autoreload 19932 22008 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\permissions.py changed, reloading.
INFO 2025-10-26 14:18:02,090 autoreload 37996 37416 Watching for file changes with StatReloader
INFO 2025-10-26 14:19:23,939 autoreload 37996 37416 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\permissions.py changed, reloading.
INFO 2025-10-26 14:19:26,863 autoreload 31976 32916 Watching for file changes with StatReloader
ERROR 2025-10-26 14:27:23,075 log 31976 21204 Internal Server Error: /api/accounts/unit-types/
WARNING 2025-10-26 14:35:55,450 log 31976 36912 Unauthorized: /api/accounts/units/
WARNING 2025-10-26 14:35:55,808 log 31976 19200 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-26 14:35:55,817 log 31976 16580 Unauthorized: /api/communication/reports/
INFO 2025-10-26 14:51:12,010 autoreload 31976 32916 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-26 14:51:15,893 autoreload 19428 29620 Watching for file changes with StatReloader
INFO 2025-10-26 14:52:05,478 autoreload 19428 29620 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-26 14:52:10,064 autoreload 28532 24792 Watching for file changes with StatReloader
INFO 2025-10-26 15:01:33,223 autoreload 28532 24792 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\serializers.py changed, reloading.
INFO 2025-10-26 15:01:36,158 autoreload 11268 27220 Watching for file changes with StatReloader
INFO 2025-10-26 15:01:45,553 autoreload 11268 27220 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\views.py changed, reloading.
INFO 2025-10-26 15:01:48,807 autoreload 33552 16992 Watching for file changes with StatReloader
INFO 2025-10-26 15:02:26,312 autoreload 33552 16992 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\tasks.py changed, reloading.
INFO 2025-10-26 15:02:33,644 autoreload 2952 7692 Watching for file changes with StatReloader
INFO 2025-10-26 15:04:08,405 autoreload 2952 7692 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-26 15:04:17,672 autoreload 23404 17432 Watching for file changes with StatReloader
INFO 2025-10-26 15:04:25,148 autoreload 23404 17432 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\views.py changed, reloading.
INFO 2025-10-26 15:04:28,511 autoreload 38828 19904 Watching for file changes with StatReloader
INFO 2025-10-26 15:04:57,736 autoreload 38828 19904 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\views.py changed, reloading.
INFO 2025-10-26 15:05:02,583 autoreload 27048 16240 Watching for file changes with StatReloader
INFO 2025-10-26 15:05:30,073 autoreload 27048 16240 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-26 15:05:34,886 autoreload 31588 37248 Watching for file changes with StatReloader
INFO 2025-10-26 15:24:27,533 autoreload 31588 37248 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-26 15:24:32,730 autoreload 22920 40356 Watching for file changes with StatReloader
INFO 2025-10-26 15:24:48,577 autoreload 22920 40356 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\urls.py changed, reloading.
INFO 2025-10-26 15:24:51,695 autoreload 12868 43928 Watching for file changes with StatReloader
INFO 2025-10-26 15:24:55,944 autoreload 12868 43928 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\urls.py changed, reloading.
INFO 2025-10-26 15:24:58,855 autoreload 41908 40716 Watching for file changes with StatReloader
INFO 2025-10-26 15:25:03,460 autoreload 41908 40716 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\urls.py changed, reloading.
INFO 2025-10-26 15:25:06,867 autoreload 32716 24492 Watching for file changes with StatReloader
INFO 2025-10-26 15:25:50,147 autoreload 32716 24492 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-26 15:25:55,196 autoreload 26544 3572 Watching for file changes with StatReloader
INFO 2025-10-26 15:26:18,025 autoreload 26544 3572 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\views.py changed, reloading.
INFO 2025-10-26 15:26:26,602 autoreload 26708 21540 Watching for file changes with StatReloader
WARNING 2025-10-26 15:36:01,292 log 26708 38672 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-26 15:36:01,297 log 26708 30320 Unauthorized: /api/accounts/me/
WARNING 2025-10-26 15:36:01,558 log 26708 1752 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-26 15:36:01,582 log 26708 40408 Unauthorized: /api/accounts/properties/
WARNING 2025-10-26 15:36:01,596 log 26708 15112 Unauthorized: /api/payments/rent-payments/
WARNING 2025-10-26 15:36:01,612 log 26708 46724 Unauthorized: /api/accounts/units/
WARNING 2025-10-26 15:36:01,887 log 26708 40504 Unauthorized: /api/communication/reports/
WARNING 2025-10-26 15:36:02,053 log 26708 30320 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-26 15:36:02,394 log 26708 38672 Unauthorized: /api/accounts/me/
WARNING 2025-10-26 15:36:02,477 log 26708 15112 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-26 15:36:02,746 log 26708 38672 Unauthorized: /api/accounts/properties/
WARNING 2025-10-26 15:36:02,750 log 26708 30320 Unauthorized: /api/payments/rent-payments/
WARNING 2025-10-26 15:36:02,754 log 26708 46724 Unauthorized: /api/accounts/units/
WARNING 2025-10-26 15:36:02,869 log 26708 3768 Unauthorized: /api/communication/reports/
WARNING 2025-10-26 15:36:05,585 log 26708 22904 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-26 15:36:05,805 log 26708 28636 Unauthorized: /api/accounts/units/
WARNING 2025-10-26 15:36:05,818 log 26708 10992 Unauthorized: /api/communication/reports/
WARNING 2025-10-26 15:36:05,831 log 26708 37984 Unauthorized: /api/accounts/me/
WARNING 2025-10-26 15:36:05,871 log 26708 42180 Unauthorized: /api/payments/rent-payments/
WARNING 2025-10-26 15:36:05,891 log 26708 44872 Unauthorized: /api/accounts/properties/
WARNING 2025-10-26 15:36:05,908 log 26708 40448 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-26 15:36:08,698 log 26708 41360 Unauthorized: /api/payments/rent-payments/
WARNING 2025-10-26 15:36:08,701 log 26708 24532 Unauthorized: /api/accounts/units/
WARNING 2025-10-26 15:36:08,717 log 26708 20108 Unauthorized: /api/accounts/tenants/
WARNING 2025-10-26 15:36:08,723 log 26708 37504 Unauthorized: /api/accounts/me/
WARNING 2025-10-26 15:36:08,735 log 26708 19740 Unauthorized: /api/communication/reports/
WARNING 2025-10-26 15:36:09,455 log 26708 45860 Unauthorized: /api/accounts/properties/
WARNING 2025-10-26 15:36:09,464 log 26708 44324 Unauthorized: /api/communication/reports/open/
INFO 2025-10-26 15:47:30,316 autoreload 26708 21540 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-26 15:47:37,360 autoreload 15216 15644 Watching for file changes with StatReloader
INFO 2025-10-26 15:47:54,590 autoreload 15216 15644 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-26 15:47:58,139 autoreload 46500 15924 Watching for file changes with StatReloader
INFO 2025-10-26 15:57:58,731 autoreload 46500 15924 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\urls.py changed, reloading.
INFO 2025-10-26 15:58:02,750 autoreload 25500 23600 Watching for file changes with StatReloader
INFO 2025-10-26 15:58:07,698 autoreload 25500 23600 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\urls.py changed, reloading.
INFO 2025-10-26 15:58:10,572 autoreload 46484 21372 Watching for file changes with StatReloader
INFO 2025-10-26 16:06:53,887 autoreload 46484 21372 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\models.py changed, reloading.
INFO 2025-10-26 16:06:58,236 autoreload 41796 20476 Watching for file changes with StatReloader
INFO 2025-10-26 16:07:03,846 autoreload 41796 20476 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\serializers.py changed, reloading.
INFO 2025-10-26 16:07:07,651 autoreload 17400 18908 Watching for file changes with StatReloader
INFO 2025-10-26 16:07:22,260 autoreload 17400 18908 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\views.py changed, reloading.
INFO 2025-10-26 16:07:25,281 autoreload 34680 16808 Watching for file changes with StatReloader
INFO 2025-10-26 16:07:37,701 autoreload 34680 16808 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\urls.py changed, reloading.
INFO 2025-10-26 16:07:41,974 autoreload 18136 21648 Watching for file changes with StatReloader
INFO 2025-10-26 16:07:56,404 autoreload 18136 21648 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\tasks.py changed, reloading.
INFO 2025-10-26 16:08:00,546 autoreload 19052 22644 Watching for file changes with StatReloader
INFO 2025-10-26 16:08:15,408 autoreload 19052 22644 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-26 16:08:18,688 autoreload 30108 27416 Watching for file changes with StatReloader
INFO 2025-10-26 16:08:26,936 autoreload 30108 27416 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-26 16:08:34,151 autoreload 19800 44568 Watching for file changes with StatReloader
ERROR 2025-10-26 16:13:10,440 log 19800 12772 Internal Server Error: /api/communication/reminders/settings/
Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\sqlite3\base.py", line 328, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: communication_remindersetting

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\views.py", line 172, in get
    setting = self.get_object(request.user)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\views.py", line 168, in get_object
    setting, _ = ReminderSetting.objects.get_or_create(landlord=user)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 916, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 633, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 380, in __len__
    self._fetch_all()
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 1881, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\sqlite3\base.py", line 328, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: no such table: communication_remindersetting
ERROR 2025-10-26 16:13:12,350 log 19800 7984 Internal Server Error: /api/communication/reminders/settings/
Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\sqlite3\base.py", line 328, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: communication_remindersetting

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\views.py", line 172, in get
    setting = self.get_object(request.user)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\views.py", line 168, in get_object
    setting, _ = ReminderSetting.objects.get_or_create(landlord=user)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 916, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 633, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 380, in __len__
    self._fetch_all()
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 1881, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\sqlite3\base.py", line 328, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: no such table: communication_remindersetting
WARNING 2025-10-26 16:36:14,169 log 19800 45976 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-26 17:35:10,574 log 19800 35644 Not Found: /api/payments/rent-payments/csv/
WARNING 2025-10-26 17:36:23,745 log 19800 35644 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-26 17:38:54,271 log 19800 20168 Not Found: /api/payments/rent-payments/csv/
WARNING 2025-10-26 17:38:55,469 log 19800 20168 Not Found: /api/payments/rent-payments/csv/
INFO 2025-10-26 17:40:28,710 autoreload 19800 44568 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-26 17:40:39,660 autoreload 7800 37644 Watching for file changes with StatReloader
INFO 2025-10-26 17:40:49,684 autoreload 7800 37644 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\urls.py changed, reloading.
INFO 2025-10-26 17:40:54,271 autoreload 23320 43752 Watching for file changes with StatReloader
INFO 2025-10-26 17:41:05,742 autoreload 23320 43752 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\urls.py changed, reloading.
INFO 2025-10-26 17:41:11,697 autoreload 15156 38120 Watching for file changes with StatReloader
ERROR 2025-10-26 17:44:39,468 log 15156 29600 Internal Server Error: /api/payments/rent-payments/csv/
Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py", line 1197, in get
    payments = Payment.objects.filter(unit__in=units, status='Success').select_related('unit', 'tenant').order_by('-transaction_date')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 1659, in order_by
    obj.query.add_ordering(*field_names)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\sql\query.py", line 2221, in add_ordering
    self.names_to_path(item.split(LOOKUP_SEP), self.model._meta)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\sql\query.py", line 1724, in names_to_path
    raise FieldError(
django.core.exceptions.FieldError: Cannot resolve keyword 'transaction_date' into field. Choices are: amount, created_at, description, failure_reason, id, mpesa_checkout_request_id, mpesa_receipt, payment_method, payment_type, reference_number, status, tenant, tenant_id, unit, unit_id, updated_at
ERROR 2025-10-26 17:44:42,416 log 15156 24856 Internal Server Error: /api/payments/rent-payments/csv/
Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py", line 1197, in get
    payments = Payment.objects.filter(unit__in=units, status='Success').select_related('unit', 'tenant').order_by('-transaction_date')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 1659, in order_by
    obj.query.add_ordering(*field_names)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\sql\query.py", line 2221, in add_ordering
    self.names_to_path(item.split(LOOKUP_SEP), self.model._meta)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\sql\query.py", line 1724, in names_to_path
    raise FieldError(
django.core.exceptions.FieldError: Cannot resolve keyword 'transaction_date' into field. Choices are: amount, created_at, description, failure_reason, id, mpesa_checkout_request_id, mpesa_receipt, payment_method, payment_type, reference_number, status, tenant, tenant_id, unit, unit_id, updated_at
INFO 2025-10-26 17:45:52,053 autoreload 15156 38120 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-26 17:45:56,968 autoreload 39876 20844 Watching for file changes with StatReloader
INFO 2025-10-26 17:46:03,536 autoreload 39876 20844 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-26 17:46:08,681 autoreload 1332 34408 Watching for file changes with StatReloader
INFO 2025-10-26 17:48:07,610 autoreload 1332 34408 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-26 17:48:12,506 autoreload 31972 23612 Watching for file changes with StatReloader
INFO 2025-10-26 17:48:29,442 autoreload 31972 23612 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-26 17:48:33,766 autoreload 9184 8588 Watching for file changes with StatReloader
INFO 2025-10-26 17:49:22,901 autoreload 9184 8588 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-26 17:49:27,840 autoreload 45100 10936 Watching for file changes with StatReloader
INFO 2025-10-26 17:49:39,507 autoreload 45100 10936 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-26 17:49:46,187 autoreload 17400 41956 Watching for file changes with StatReloader
INFO 2025-10-26 17:50:01,368 autoreload 17400 41956 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-26 17:50:08,748 autoreload 34984 30388 Watching for file changes with StatReloader
INFO 2025-10-26 17:50:58,496 views 34984 37096 Subscription callback received: {'Body': {'stkCallback': {'MerchantRequestID': '1d98-42f3-9cf7-c3703adb52e321315', 'CheckoutRequestID': 'ws_CO_26102025175038246722714334', 'ResultCode': 1032, 'ResultDesc': 'Request Cancelled by user.'}}}
INFO 2025-10-26 17:50:58,498 views 34984 37096 Subscription callback - ResultCode: 1032, CheckoutRequestID: ws_CO_26102025175038246722714334
ERROR 2025-10-26 17:50:58,499 views 34984 37096 Subscription payment failed - ResultCode: 1032, Description: Request Cancelled by user.
INFO 2025-10-26 17:52:46,982 autoreload 34984 30388 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-26 17:52:54,653 autoreload 41856 18984 Watching for file changes with StatReloader
INFO 2025-10-26 18:12:46,367 autoreload 41856 18984 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-26 18:12:49,956 autoreload 31604 31984 Watching for file changes with StatReloader
INFO 2025-10-26 18:13:04,659 autoreload 31604 31984 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-26 18:13:06,998 autoreload 3720 36308 Watching for file changes with StatReloader
INFO 2025-10-26 18:19:23,292 autoreload 3720 36308 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\serializers.py changed, reloading.
INFO 2025-10-26 18:19:25,985 autoreload 28496 17664 Watching for file changes with StatReloader
INFO 2025-10-26 18:19:52,463 autoreload 28496 17664 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\serializers.py changed, reloading.
INFO 2025-10-26 18:19:55,090 autoreload 26996 25976 Watching for file changes with StatReloader
WARNING 2025-10-26 18:37:21,807 log 26996 23500 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-26 18:44:45,759 log 26996 11028 Bad Request: /api/accounts/token/
INFO 2025-10-26 19:11:28,600 autoreload 26996 25976 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-26 19:11:31,597 autoreload 3724 30204 Watching for file changes with StatReloader
INFO 2025-10-26 19:11:51,336 autoreload 3724 30204 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-26 19:11:54,364 autoreload 42768 34152 Watching for file changes with StatReloader
INFO 2025-10-26 19:13:49,914 autoreload 42768 34152 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-26 19:13:53,304 autoreload 40064 45224 Watching for file changes with StatReloader
INFO 2025-10-26 19:15:07,774 autoreload 40064 45224 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-26 19:15:10,544 autoreload 18544 16000 Watching for file changes with StatReloader
INFO 2025-10-26 19:15:13,665 autoreload 18544 16000 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-26 19:15:16,194 autoreload 28528 21288 Watching for file changes with StatReloader
WARNING 2025-10-26 19:20:34,597 log 28528 23716 Bad Request: /api/accounts/password/reset/
INFO 2025-10-26 19:40:59,866 autoreload 28528 21288 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-26 19:41:02,644 autoreload 27584 37764 Watching for file changes with StatReloader
INFO 2025-10-26 19:43:03,023 autoreload 27584 37764 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-26 19:43:05,545 autoreload 26032 36216 Watching for file changes with StatReloader
INFO 2025-10-26 19:48:21,451 autoreload 26032 36216 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-26 19:48:24,452 autoreload 34292 40984 Watching for file changes with StatReloader
INFO 2025-10-26 19:48:49,708 autoreload 34292 40984 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-26 19:48:52,290 autoreload 20456 45228 Watching for file changes with StatReloader
WARNING 2025-10-26 20:09:01,676 log 20456 25884 Bad Request: /api/accounts/token/
INFO 2025-10-26 20:15:10,178 autoreload 20456 45228 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-26 20:15:14,669 autoreload 36464 20792 Watching for file changes with StatReloader
INFO 2025-10-26 20:15:20,056 autoreload 36464 20792 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-26 20:15:24,390 autoreload 9876 39356 Watching for file changes with StatReloader
WARNING 2025-10-26 20:34:12,280 log 9876 22832 Bad Request: /api/accounts/token/
INFO 2025-10-26 20:46:33,385 views 9876 41384 Subscription already exists for user 43
INFO 2025-10-26 20:46:33,386 views 9876 41384 Welcome email prepared for test24400@example.com: Welcome to Makao Rentals - Your Landlord Account is Ready!
WARNING 2025-10-26 20:52:24,513 log 9876 26172 Bad Request: /api/accounts/token/
WARNING 2025-10-26 20:52:34,116 log 9876 26172 Bad Request: /api/accounts/token/
WARNING 2025-10-26 20:53:15,257 log 9876 26172 Bad Request: /api/accounts/token/
WARNING 2025-10-26 20:56:42,951 log 9876 35356 Bad Request: /api/accounts/token/
WARNING 2025-10-26 20:58:43,929 log 9876 36088 Forbidden: /api/accounts/subscription/status/
WARNING 2025-10-26 20:58:44,426 log 9876 36088 Forbidden: /api/accounts/subscription/status/
WARNING 2025-10-26 20:59:01,937 log 9876 36088 Forbidden: /api/accounts/subscription/status/
WARNING 2025-10-26 20:59:02,450 log 9876 36088 Forbidden: /api/accounts/subscription/status/
WARNING 2025-10-26 21:04:34,332 log 9876 38496 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 21:04:34,562 log 9876 23752 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 21:04:35,188 log 9876 36088 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 21:04:35,520 log 9876 43544 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 21:04:36,416 log 9876 3268 Forbidden: /api/accounts/users/
WARNING 2025-10-26 21:04:36,936 log 9876 44372 Forbidden: /api/accounts/users/
WARNING 2025-10-26 21:08:14,181 log 9876 27324 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 21:08:14,758 log 9876 3268 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 21:08:15,361 log 9876 23444 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 21:08:15,722 log 9876 2772 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 21:08:16,200 log 9876 46104 Forbidden: /api/accounts/users/
WARNING 2025-10-26 21:08:17,034 log 9876 46104 Forbidden: /api/accounts/users/
WARNING 2025-10-26 21:09:31,974 log 9876 46104 Forbidden: /api/accounts/subscription/status/
WARNING 2025-10-26 21:09:32,694 log 9876 46104 Forbidden: /api/accounts/subscription/status/
WARNING 2025-10-26 21:10:49,944 log 9876 46104 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 21:10:50,413 log 9876 13132 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 21:10:50,545 log 9876 46104 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 21:10:50,956 log 9876 37272 Forbidden: /api/accounts/users/
WARNING 2025-10-26 21:10:52,232 log 9876 18016 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 21:10:53,075 log 9876 13132 Forbidden: /api/accounts/users/
WARNING 2025-10-26 21:14:28,648 log 9876 13136 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 21:14:28,788 log 9876 31616 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 21:14:29,763 log 9876 20096 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 21:14:29,785 log 9876 9008 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 21:14:29,975 log 9876 39832 Forbidden: /api/accounts/users/
WARNING 2025-10-26 21:14:30,960 log 9876 20096 Forbidden: /api/accounts/users/
WARNING 2025-10-26 21:18:57,911 log 9876 35464 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 21:18:57,917 log 9876 13020 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 21:18:59,100 log 9876 29364 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 21:18:59,101 log 9876 32688 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 21:18:59,137 log 9876 45816 Forbidden: /api/accounts/users/
WARNING 2025-10-26 21:19:00,647 log 9876 13020 Forbidden: /api/accounts/users/
WARNING 2025-10-26 21:19:22,404 log 9876 45964 Unauthorized: /api/accounts/users/
INFO 2025-10-26 21:23:18,940 autoreload 9876 39356 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-26 21:23:25,188 autoreload 11504 29112 Watching for file changes with StatReloader
INFO 2025-10-26 21:34:58,538 autoreload 11504 29112 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-26 21:35:03,856 autoreload 16004 39864 Watching for file changes with StatReloader
INFO 2025-10-26 21:35:23,397 autoreload 16004 39864 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-26 21:41:43,419 autoreload 27756 27736 Watching for file changes with StatReloader
WARNING 2025-10-26 21:41:50,914 log 27756 34968 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 21:41:50,918 log 27756 7048 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 21:41:51,474 log 27756 34968 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 21:41:51,597 log 27756 7048 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 21:41:51,671 log 27756 39164 Forbidden: /api/accounts/users/
WARNING 2025-10-26 21:41:53,051 log 27756 28832 Forbidden: /api/accounts/users/
WARNING 2025-10-26 21:51:11,799 log 27756 44116 Forbidden: /api/accounts/subscription/status/
WARNING 2025-10-26 21:51:12,156 log 27756 44116 Forbidden: /api/accounts/subscription/status/
WARNING 2025-10-26 21:51:38,219 log 27756 44116 Forbidden: /api/accounts/subscription/status/
WARNING 2025-10-26 21:51:39,072 log 27756 44116 Forbidden: /api/accounts/subscription/status/
WARNING 2025-10-26 21:51:41,761 log 27756 44116 Forbidden: /api/payments/rent-payments/summary/
WARNING 2025-10-26 21:52:28,250 log 27756 44116 Forbidden: /api/payments/rent-payments/summary/
WARNING 2025-10-26 21:52:28,655 log 27756 44116 Forbidden: /api/payments/rent-payments/summary/
WARNING 2025-10-26 21:52:33,915 log 27756 33620 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 21:52:34,016 log 27756 26160 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 21:52:34,329 log 27756 20320 Forbidden: /api/payments/rent-payments/summary/
WARNING 2025-10-26 21:52:35,698 log 27756 20320 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 21:52:35,703 log 27756 632 Forbidden: /api/payments/rent-payments/summary/
WARNING 2025-10-26 21:52:35,747 log 27756 25332 Forbidden: /api/accounts/users/
WARNING 2025-10-26 21:52:35,772 log 27756 42052 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 21:52:36,593 log 27756 20320 Forbidden: /api/accounts/users/
WARNING 2025-10-26 21:52:48,912 log 27756 25748 Unauthorized: /api/accounts/users/
WARNING 2025-10-26 21:52:55,180 log 27756 28012 Forbidden: /api/accounts/subscription/status/
WARNING 2025-10-26 21:52:55,510 log 27756 28012 Forbidden: /api/accounts/subscription/status/
WARNING 2025-10-26 21:52:57,459 log 27756 28012 Forbidden: /api/payments/rent-payments/summary/
WARNING 2025-10-26 21:52:57,793 log 27756 28012 Forbidden: /api/payments/rent-payments/summary/
INFO 2025-10-26 21:55:22,996 autoreload 27756 27736 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-26 21:55:27,227 autoreload 46684 19628 Watching for file changes with StatReloader
INFO 2025-10-26 21:58:56,540 autoreload 46684 19628 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-26 21:59:00,495 autoreload 29884 31084 Watching for file changes with StatReloader
WARNING 2025-10-26 21:59:23,875 log 29884 13464 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-26 22:02:59,972 log 29884 43160 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 22:02:59,997 log 29884 11716 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 22:03:00,772 log 29884 14528 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 22:03:00,899 log 29884 27100 Forbidden: /api/accounts/users/
WARNING 2025-10-26 22:03:01,023 log 29884 9124 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 22:03:01,685 log 29884 37076 Forbidden: /api/accounts/users/
WARNING 2025-10-26 22:06:30,931 log 29884 8352 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 22:06:30,938 log 29884 8320 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 22:06:31,626 log 29884 16912 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 22:06:31,628 log 29884 42412 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 22:06:32,276 log 29884 16912 Forbidden: /api/accounts/users/
WARNING 2025-10-26 22:06:32,748 log 29884 42412 Forbidden: /api/accounts/users/
WARNING 2025-10-26 22:06:37,700 log 29884 16912 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 22:06:37,888 log 29884 39568 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 22:06:38,017 log 29884 42412 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 22:06:38,337 log 29884 39568 Forbidden: /api/accounts/users/
WARNING 2025-10-26 22:06:38,347 log 29884 27088 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 22:06:38,684 log 29884 34696 Forbidden: /api/accounts/users/
WARNING 2025-10-26 22:08:07,678 log 29884 35820 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 22:08:08,297 log 29884 32080 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 22:08:08,663 log 29884 27088 Forbidden: /api/accounts/tenants/
WARNING 2025-10-26 22:08:08,689 log 29884 14524 Forbidden: /api/accounts/users/
WARNING 2025-10-26 22:08:09,437 log 29884 10644 Forbidden: /api/accounts/properties/
WARNING 2025-10-26 22:08:09,607 log 29884 37660 Forbidden: /api/accounts/users/
INFO 2025-10-26 22:24:47,520 autoreload 29884 31084 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-26 22:24:52,444 autoreload 44312 33680 Watching for file changes with StatReloader
INFO 2025-10-26 22:25:01,141 autoreload 44312 33680 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\urls.py changed, reloading.
INFO 2025-10-26 22:25:05,052 autoreload 35588 11736 Watching for file changes with StatReloader
INFO 2025-10-26 22:25:09,287 autoreload 35588 11736 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\urls.py changed, reloading.
INFO 2025-10-26 22:25:12,359 autoreload 32540 14688 Watching for file changes with StatReloader
INFO 2025-10-26 22:26:46,518 autoreload 32540 14688 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views.py changed, reloading.
INFO 2025-10-26 22:26:52,715 autoreload 41996 41512 Watching for file changes with StatReloader
INFO 2025-10-26 22:36:41,408 views 41996 27528 Sending STK push to: https://sandbox.safaricom.co.ke/mpesa/stkpush/v1/processrequest
INFO 2025-10-26 22:36:41,408 views 41996 27528 Payload: {'BusinessShortCode': '174379', 'Password': 'MTc0Mzc5YmZiMjc5ZjlhYTliZGJjZjE1OGU5N2RkNzFhNDY3Y2QyZTBjODkzMDU5YjEwZjc4ZTZiNzJhZGExZWQyYzkxOTIwMjUxMDI2MjIzNjQx', 'Timestamp': '20251026223641', 'TransactionType': 'CustomerPayBillOnline', 'Amount': 12010, 'PartyA': '254791535488', 'PartyB': '174379', 'PhoneNumber': '254791535488', 'CallBackURL': 'https://preaccommodatingly-nonabsorbable-joanie.ngrok-free.dev/api/payments/callback/rent/', 'AccountReference': 'RENT-11-003-3BEE0694', 'TransactionDesc': 'Rent payment for 3'}
INFO 2025-10-26 22:36:43,093 views 41996 27528 STK push response: {'MerchantRequestID': 'cbd0-4edb-b227-4837dafdaa629178', 'CheckoutRequestID': 'ws_CO_26102025223642448791535488', 'ResponseCode': '0', 'ResponseDescription': 'Success. Request accepted for processing', 'CustomerMessage': 'Success. Request accepted for processing'}
INFO 2025-10-26 22:36:43,114 views 41996 27528 STK push initiated successfully. Payment ID: 101, Cache Key: stk_ws_CO_26102025223642448791535488
INFO 2025-10-26 22:37:00,611 views 41996 33504 Rent callback received: {'Body': {'stkCallback': {'MerchantRequestID': 'cbd0-4edb-b227-4837dafdaa629178', 'CheckoutRequestID': 'ws_CO_26102025223642448791535488', 'ResultCode': 1037, 'ResultDesc': 'DS timeout user cannot be reached.'}}}
INFO 2025-10-26 22:37:00,611 views 41996 33504 Rent callback - ResultCode: 1037, CheckoutRequestID: ws_CO_26102025223642448791535488
ERROR 2025-10-26 22:37:00,612 views 41996 33504 Rent payment failed - ResultCode: 1037, Description: DS timeout user cannot be reached.
INFO 2025-10-26 22:37:57,683 views 41996 44668 Sending STK push to: https://sandbox.safaricom.co.ke/mpesa/stkpush/v1/processrequest
INFO 2025-10-26 22:37:57,684 views 41996 44668 Payload: {'BusinessShortCode': '174379', 'Password': 'MTc0Mzc5YmZiMjc5ZjlhYTliZGJjZjE1OGU5N2RkNzFhNDY3Y2QyZTBjODkzMDU5YjEwZjc4ZTZiNzJhZGExZWQyYzkxOTIwMjUxMDI2MjIzNzU3', 'Timestamp': '20251026223757', 'TransactionType': 'CustomerPayBillOnline', 'Amount': 12010, 'PartyA': '254791535488', 'PartyB': '174379', 'PhoneNumber': '254791535488', 'CallBackURL': 'https://preaccommodatingly-nonabsorbable-joanie.ngrok-free.dev/api/payments/callback/rent/', 'AccountReference': 'RENT-11-003-3BEE0694', 'TransactionDesc': 'Rent payment for 3'}
INFO 2025-10-26 22:38:01,911 views 41996 44668 STK push response: {'MerchantRequestID': 'cbd0-4edb-b227-4837dafdaa629185', 'CheckoutRequestID': 'ws_CO_26102025223801254791535488', 'ResponseCode': '0', 'ResponseDescription': 'Success. Request accepted for processing', 'CustomerMessage': 'Success. Request accepted for processing'}
INFO 2025-10-26 22:38:01,930 views 41996 44668 STK push initiated successfully. Payment ID: 102, Cache Key: stk_ws_CO_26102025223801254791535488
INFO 2025-10-26 22:38:28,313 views 41996 45972 Rent callback received: {'Body': {'stkCallback': {'MerchantRequestID': 'cbd0-4edb-b227-4837dafdaa629185', 'CheckoutRequestID': 'ws_CO_26102025223801254791535488', 'ResultCode': 1037, 'ResultDesc': 'No response from user.'}}}
INFO 2025-10-26 22:38:28,315 views 41996 45972 Rent callback - ResultCode: 1037, CheckoutRequestID: ws_CO_26102025223801254791535488
ERROR 2025-10-26 22:38:28,316 views 41996 45972 Rent payment failed - ResultCode: 1037, Description: No response from user.
INFO 2025-10-26 22:38:56,656 views 41996 39344 Sending STK push to: https://sandbox.safaricom.co.ke/mpesa/stkpush/v1/processrequest
INFO 2025-10-26 22:38:56,656 views 41996 39344 Payload: {'BusinessShortCode': '174379', 'Password': 'MTc0Mzc5YmZiMjc5ZjlhYTliZGJjZjE1OGU5N2RkNzFhNDY3Y2QyZTBjODkzMDU5YjEwZjc4ZTZiNzJhZGExZWQyYzkxOTIwMjUxMDI2MjIzODU2', 'Timestamp': '20251026223856', 'TransactionType': 'CustomerPayBillOnline', 'Amount': 12010, 'PartyA': '254791535488', 'PartyB': '174379', 'PhoneNumber': '254791535488', 'CallBackURL': 'https://preaccommodatingly-nonabsorbable-joanie.ngrok-free.dev/api/payments/callback/rent/', 'AccountReference': 'RENT-11-003-3BEE0694', 'TransactionDesc': 'Rent payment for 3'}
INFO 2025-10-26 22:38:58,298 views 41996 39344 STK push response: {'MerchantRequestID': 'bdf9-49a1-8fd7-afb07f067ed43317', 'CheckoutRequestID': 'ws_CO_26102025223857676791535488', 'ResponseCode': '0', 'ResponseDescription': 'Success. Request accepted for processing', 'CustomerMessage': 'Success. Request accepted for processing'}
INFO 2025-10-26 22:38:58,319 views 41996 39344 STK push initiated successfully. Payment ID: 103, Cache Key: stk_ws_CO_26102025223857676791535488
INFO 2025-10-26 22:39:13,338 views 41996 30156 Rent callback received: {'Body': {'stkCallback': {'MerchantRequestID': 'bdf9-49a1-8fd7-afb07f067ed43317', 'CheckoutRequestID': 'ws_CO_26102025223857676791535488', 'ResultCode': 1037, 'ResultDesc': 'DS timeout user cannot be reached.'}}}
INFO 2025-10-26 22:39:13,339 views 41996 30156 Rent callback - ResultCode: 1037, CheckoutRequestID: ws_CO_26102025223857676791535488
ERROR 2025-10-26 22:39:13,339 views 41996 30156 Rent payment failed - ResultCode: 1037, Description: DS timeout user cannot be reached.
INFO 2025-10-26 22:39:41,952 views 41996 18244 Sending STK push to: https://sandbox.safaricom.co.ke/mpesa/stkpush/v1/processrequest
INFO 2025-10-26 22:39:41,953 views 41996 18244 Payload: {'BusinessShortCode': '174379', 'Password': 'MTc0Mzc5YmZiMjc5ZjlhYTliZGJjZjE1OGU5N2RkNzFhNDY3Y2QyZTBjODkzMDU5YjEwZjc4ZTZiNzJhZGExZWQyYzkxOTIwMjUxMDI2MjIzOTQx', 'Timestamp': '20251026223941', 'TransactionType': 'CustomerPayBillOnline', 'Amount': 12010, 'PartyA': '254791535488', 'PartyB': '174379', 'PhoneNumber': '254791535488', 'CallBackURL': 'https://preaccommodatingly-nonabsorbable-joanie.ngrok-free.dev/api/payments/callback/rent/', 'AccountReference': 'RENT-11-003-3BEE0694', 'TransactionDesc': 'Rent payment for 3'}
INFO 2025-10-26 22:39:44,141 views 41996 18244 STK push response: {'MerchantRequestID': 'd924-4923-94a7-b1203ec77a3816878', 'CheckoutRequestID': 'ws_CO_26102025223943504791535488', 'ResponseCode': '0', 'ResponseDescription': 'Success. Request accepted for processing', 'CustomerMessage': 'Success. Request accepted for processing'}
INFO 2025-10-26 22:39:44,158 views 41996 18244 STK push initiated successfully. Payment ID: 104, Cache Key: stk_ws_CO_26102025223943504791535488
INFO 2025-10-26 22:39:52,518 views 41996 30156 Rent callback received: {'Body': {'stkCallback': {'MerchantRequestID': 'd924-4923-94a7-b1203ec77a3816878', 'CheckoutRequestID': 'ws_CO_26102025223943504791535488', 'ResultCode': 1037, 'ResultDesc': 'DS timeout user cannot be reached.'}}}
INFO 2025-10-26 22:39:52,518 views 41996 30156 Rent callback - ResultCode: 1037, CheckoutRequestID: ws_CO_26102025223943504791535488
ERROR 2025-10-26 22:39:52,519 views 41996 30156 Rent payment failed - ResultCode: 1037, Description: DS timeout user cannot be reached.
INFO 2025-10-26 22:44:36,145 autoreload 41996 41512 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\serializers.py changed, reloading.
INFO 2025-10-26 22:44:39,511 autoreload 39312 7756 Watching for file changes with StatReloader
INFO 2025-10-26 22:45:01,768 autoreload 39312 7756 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\serializers.py changed, reloading.
INFO 2025-10-26 22:45:06,492 autoreload 21792 31612 Watching for file changes with StatReloader
INFO 2025-10-26 22:45:21,814 autoreload 21792 31612 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\permissions.py changed, reloading.
INFO 2025-10-26 22:45:25,500 autoreload 22280 46440 Watching for file changes with StatReloader
INFO 2025-10-26 22:49:41,845 autoreload 22280 46440 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\permissions.py changed, reloading.
INFO 2025-10-26 22:49:47,427 autoreload 33320 14492 Watching for file changes with StatReloader
ERROR 2025-10-26 22:53:52,435 redis 33320 33784 Connection to Redis lost: Retry (0/20) now.
ERROR 2025-10-26 22:53:56,520 redis 33320 33784 Connection to Redis lost: Retry (1/20) in 1.00 second.
ERROR 2025-10-26 22:54:01,589 redis 33320 33784 Connection to Redis lost: Retry (2/20) in 1.00 second.
ERROR 2025-10-26 22:54:06,655 redis 33320 33784 Connection to Redis lost: Retry (3/20) in 1.00 second.
ERROR 2025-10-26 22:54:11,697 redis 33320 33784 Connection to Redis lost: Retry (4/20) in 1.00 second.
ERROR 2025-10-26 22:54:16,740 redis 33320 33784 Connection to Redis lost: Retry (5/20) in 1.00 second.
ERROR 2025-10-26 22:54:21,805 redis 33320 33784 Connection to Redis lost: Retry (6/20) in 1.00 second.
ERROR 2025-10-26 22:54:26,852 redis 33320 33784 Connection to Redis lost: Retry (7/20) in 1.00 second.
ERROR 2025-10-26 22:54:31,909 redis 33320 33784 Connection to Redis lost: Retry (8/20) in 1.00 second.
ERROR 2025-10-26 22:54:36,971 redis 33320 33784 Connection to Redis lost: Retry (9/20) in 1.00 second.
ERROR 2025-10-26 22:54:42,027 redis 33320 33784 Connection to Redis lost: Retry (10/20) in 1.00 second.
ERROR 2025-10-26 22:54:47,078 redis 33320 33784 Connection to Redis lost: Retry (11/20) in 1.00 second.
ERROR 2025-10-26 22:54:52,141 redis 33320 33784 Connection to Redis lost: Retry (12/20) in 1.00 second.
ERROR 2025-10-26 22:54:57,175 redis 33320 33784 Connection to Redis lost: Retry (13/20) in 1.00 second.
ERROR 2025-10-26 22:55:02,254 redis 33320 33784 Connection to Redis lost: Retry (14/20) in 1.00 second.
ERROR 2025-10-26 22:55:07,318 redis 33320 33784 Connection to Redis lost: Retry (15/20) in 1.00 second.
ERROR 2025-10-26 22:55:12,353 redis 33320 33784 Connection to Redis lost: Retry (16/20) in 1.00 second.
ERROR 2025-10-26 22:55:17,386 redis 33320 33784 Connection to Redis lost: Retry (17/20) in 1.00 second.
ERROR 2025-10-26 22:55:22,415 redis 33320 33784 Connection to Redis lost: Retry (18/20) in 1.00 second.
ERROR 2025-10-26 22:55:27,482 redis 33320 33784 Connection to Redis lost: Retry (19/20) in 1.00 second.
CRITICAL 2025-10-26 22:55:32,543 redis 33320 33784 
Retry limit exceeded while trying to reconnect to the Celery redis result store backend. The Celery application must be restarted.

ERROR 2025-10-26 22:55:34,018 log 33320 33784 Internal Server Error: /api/communication/reports/create/
Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\redis\connection.py", line 276, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\redis\connection.py", line 277, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\redis\connection.py", line 639, in _connect
    raise err
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\redis\connection.py", line 627, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\celery\backends\redis.py", line 127, in reconnect_on_error
    yield
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\celery\backends\redis.py", line 177, in _consume_from
    self._pubsub.subscribe(key)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\redis\client.py", line 929, in subscribe
    ret_val = self.execute_command("SUBSCRIBE", *new_channels.keys())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\redis\client.py", line 758, in execute_command
    self.connection = self.connection_pool.get_connection(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\redis\connection.py", line 1109, in get_connection
    connection.connect()
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\redis\connection.py", line 282, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\redis\connection.py", line 276, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\redis\connection.py", line 277, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\redis\connection.py", line 639, in _connect
    raise err
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\redis\connection.py", line 627, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\kombu\connection.py", line 472, in _reraise_as_library_errors
    yield
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\celery\app\base.py", line 929, in send_task
    self.backend.on_task_call(P, task_id)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\celery\backends\redis.py", line 378, in on_task_call
    self.result_consumer.consume_from(task_id)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\celery\backends\redis.py", line 169, in consume_from
    return self.start(task_id)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\celery\backends\redis.py", line 147, in start
    self._consume_from(initial_task_id)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\celery\backends\redis.py", line 176, in _consume_from
    with self.reconnect_on_error():
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\celery\backends\redis.py", line 130, in reconnect_on_error
    self._ensure(self._reconnect_pubsub, ())
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\celery\backends\redis.py", line 389, in ensure
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\kombu\utils\functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\celery\backends\redis.py", line 106, in _reconnect_pubsub
    metas = self.backend.client.mget(self.subscribed_to)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\redis\commands\core.py", line 2016, in mget
    return self.execute_command("MGET", *args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\redis\client.py", line 542, in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\redis\connection.py", line 1109, in get_connection
    connection.connect()
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\redis\connection.py", line 282, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\generics.py", line 190, in post
    return self.create(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
  File "C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\views.py", line 25, in perform_create
    send_report_email_task.delay(report.id)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\celery\app\task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\celery\app\task.py", line 601, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\celery\app\base.py", line 927, in send_task
    with P.connection._reraise_as_library_errors():
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\kombu\connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
INFO 2025-10-26 22:56:36,811 autoreload 33320 14492 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\views.py changed, reloading.
INFO 2025-10-26 22:56:42,549 autoreload 39860 41300 Watching for file changes with StatReloader
INFO 2025-10-26 22:57:28,892 autoreload 39860 41300 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\views.py changed, reloading.
INFO 2025-10-26 22:57:33,216 autoreload 11752 29860 Watching for file changes with StatReloader
INFO 2025-10-26 22:58:38,507 autoreload 11752 29860 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\views.py changed, reloading.
INFO 2025-10-26 22:58:42,333 autoreload 29636 27852 Watching for file changes with StatReloader
WARNING 2025-10-26 23:00:23,608 log 29636 46328 Unauthorized: /api/communication/reports/open/
INFO 2025-10-26 23:03:40,017 views 29636 46328 Report 47 created successfully by tenant tenant2@test.com
ERROR 2025-10-26 23:03:48,413 redis 29636 46328 Connection to Redis lost: Retry (0/20) now.
ERROR 2025-10-26 23:03:52,452 redis 29636 46328 Connection to Redis lost: Retry (1/20) in 1.00 second.
ERROR 2025-10-26 23:03:57,542 redis 29636 46328 Connection to Redis lost: Retry (2/20) in 1.00 second.
ERROR 2025-10-26 23:04:02,580 redis 29636 46328 Connection to Redis lost: Retry (3/20) in 1.00 second.
ERROR 2025-10-26 23:04:07,618 redis 29636 46328 Connection to Redis lost: Retry (4/20) in 1.00 second.
ERROR 2025-10-26 23:04:12,686 redis 29636 46328 Connection to Redis lost: Retry (5/20) in 1.00 second.
ERROR 2025-10-26 23:04:17,766 redis 29636 46328 Connection to Redis lost: Retry (6/20) in 1.00 second.
ERROR 2025-10-26 23:04:22,815 redis 29636 46328 Connection to Redis lost: Retry (7/20) in 1.00 second.
ERROR 2025-10-26 23:04:27,884 redis 29636 46328 Connection to Redis lost: Retry (8/20) in 1.00 second.
ERROR 2025-10-26 23:04:32,939 redis 29636 46328 Connection to Redis lost: Retry (9/20) in 1.00 second.
ERROR 2025-10-26 23:04:37,974 redis 29636 46328 Connection to Redis lost: Retry (10/20) in 1.00 second.
ERROR 2025-10-26 23:04:43,004 redis 29636 46328 Connection to Redis lost: Retry (11/20) in 1.00 second.
ERROR 2025-10-26 23:04:48,048 redis 29636 46328 Connection to Redis lost: Retry (12/20) in 1.00 second.
ERROR 2025-10-26 23:04:53,107 redis 29636 46328 Connection to Redis lost: Retry (13/20) in 1.00 second.
ERROR 2025-10-26 23:04:58,190 redis 29636 46328 Connection to Redis lost: Retry (14/20) in 1.00 second.
ERROR 2025-10-26 23:05:03,222 redis 29636 46328 Connection to Redis lost: Retry (15/20) in 1.00 second.
ERROR 2025-10-26 23:05:08,259 redis 29636 46328 Connection to Redis lost: Retry (16/20) in 1.00 second.
ERROR 2025-10-26 23:05:13,294 redis 29636 46328 Connection to Redis lost: Retry (17/20) in 1.00 second.
ERROR 2025-10-26 23:05:18,343 redis 29636 46328 Connection to Redis lost: Retry (18/20) in 1.00 second.
ERROR 2025-10-26 23:05:23,400 redis 29636 46328 Connection to Redis lost: Retry (19/20) in 1.00 second.
CRITICAL 2025-10-26 23:05:28,453 redis 29636 46328 
Retry limit exceeded while trying to reconnect to the Celery redis result store backend. The Celery application must be restarted.

WARNING 2025-10-26 23:05:28,453 views 29636 46328 Celery unavailable, falling back to sync email: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
INFO 2025-10-26 23:05:32,287 views 29636 46328 Sent sync email for report 47
INFO 2025-10-26 23:07:56,759 views 29636 13268 Report 48 created successfully by tenant tenant2@test.com
ERROR 2025-10-26 23:08:04,942 redis 29636 13268 Connection to Redis lost: Retry (0/20) now.
ERROR 2025-10-26 23:08:09,003 redis 29636 13268 Connection to Redis lost: Retry (1/20) in 1.00 second.
ERROR 2025-10-26 23:08:14,051 redis 29636 13268 Connection to Redis lost: Retry (2/20) in 1.00 second.
ERROR 2025-10-26 23:08:19,103 redis 29636 13268 Connection to Redis lost: Retry (3/20) in 1.00 second.
ERROR 2025-10-26 23:08:24,149 redis 29636 13268 Connection to Redis lost: Retry (4/20) in 1.00 second.
ERROR 2025-10-26 23:08:29,189 redis 29636 13268 Connection to Redis lost: Retry (5/20) in 1.00 second.
ERROR 2025-10-26 23:08:34,231 redis 29636 13268 Connection to Redis lost: Retry (6/20) in 1.00 second.
ERROR 2025-10-26 23:08:39,307 redis 29636 13268 Connection to Redis lost: Retry (7/20) in 1.00 second.
ERROR 2025-10-26 23:08:44,352 redis 29636 13268 Connection to Redis lost: Retry (8/20) in 1.00 second.
ERROR 2025-10-26 23:08:49,393 redis 29636 13268 Connection to Redis lost: Retry (9/20) in 1.00 second.
ERROR 2025-10-26 23:08:54,474 redis 29636 13268 Connection to Redis lost: Retry (10/20) in 1.00 second.
ERROR 2025-10-26 23:08:59,513 redis 29636 13268 Connection to Redis lost: Retry (11/20) in 1.00 second.
ERROR 2025-10-26 23:09:04,566 redis 29636 13268 Connection to Redis lost: Retry (12/20) in 1.00 second.
ERROR 2025-10-26 23:09:09,600 redis 29636 13268 Connection to Redis lost: Retry (13/20) in 1.00 second.
ERROR 2025-10-26 23:09:14,645 redis 29636 13268 Connection to Redis lost: Retry (14/20) in 1.00 second.
ERROR 2025-10-26 23:09:19,678 redis 29636 13268 Connection to Redis lost: Retry (15/20) in 1.00 second.
ERROR 2025-10-26 23:09:24,720 redis 29636 13268 Connection to Redis lost: Retry (16/20) in 1.00 second.
ERROR 2025-10-26 23:09:29,771 redis 29636 13268 Connection to Redis lost: Retry (17/20) in 1.00 second.
ERROR 2025-10-26 23:09:34,807 redis 29636 13268 Connection to Redis lost: Retry (18/20) in 1.00 second.
ERROR 2025-10-26 23:09:39,848 redis 29636 13268 Connection to Redis lost: Retry (19/20) in 1.00 second.
CRITICAL 2025-10-26 23:09:44,909 redis 29636 13268 
Retry limit exceeded while trying to reconnect to the Celery redis result store backend. The Celery application must be restarted.

WARNING 2025-10-26 23:09:44,910 views 29636 13268 Celery unavailable, falling back to sync email: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.
INFO 2025-10-26 23:09:49,659 views 29636 13268 Sent sync email for report 48
INFO 2025-10-26 23:11:05,028 autoreload 29636 27852 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-26 23:11:09,918 autoreload 15132 16828 Watching for file changes with StatReloader
INFO 2025-10-26 23:11:34,479 autoreload 15132 16828 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-26 23:11:39,500 autoreload 29920 32296 Watching for file changes with StatReloader
INFO 2025-10-26 23:16:40,194 autoreload 29920 32296 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\views.py changed, reloading.
INFO 2025-10-26 23:16:43,716 autoreload 35716 12516 Watching for file changes with StatReloader
INFO 2025-10-26 23:20:51,021 views 35716 46648 Report 49 created successfully by tenant tenant2@test.com
INFO 2025-10-26 23:20:51,974 views 35716 46648 Sent sync email for report 49
WARNING 2025-10-26 23:35:58,241 log 35716 32548 Bad Request: /api/accounts/users/15/update/
WARNING 2025-10-26 23:38:26,908 log 35716 41584 Bad Request: /api/accounts/users/15/update/
WARNING 2025-10-26 23:39:13,050 log 35716 41584 Bad Request: /api/accounts/change-password/
INFO 2025-10-26 23:48:30,879 autoreload 35716 12516 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\models.py changed, reloading.
INFO 2025-10-26 23:48:34,876 autoreload 31720 21548 Watching for file changes with StatReloader
INFO 2025-10-26 23:48:43,046 autoreload 31720 21548 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\permissions.py changed, reloading.
INFO 2025-10-26 23:48:45,354 autoreload 16088 14660 Watching for file changes with StatReloader
INFO 2025-10-26 23:48:57,639 autoreload 16088 14660 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\serializers.py changed, reloading.
INFO 2025-10-26 23:49:00,711 autoreload 4116 8076 Watching for file changes with StatReloader
INFO 2025-10-26 23:49:16,845 autoreload 4116 8076 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\permissions.py changed, reloading.
INFO 2025-10-26 23:49:19,190 autoreload 15260 26276 Watching for file changes with StatReloader
INFO 2025-10-26 23:49:27,050 autoreload 15260 26276 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\apps.py changed, reloading.
INFO 2025-10-26 23:49:29,582 autoreload 29452 27240 Watching for file changes with StatReloader
INFO 2025-10-26 23:50:03,510 autoreload 29452 27240 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\permissions.py changed, reloading.
INFO 2025-10-26 23:50:05,913 autoreload 31944 37912 Watching for file changes with StatReloader
INFO 2025-10-26 23:50:34,409 autoreload 31944 37912 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\communication\serializers.py changed, reloading.
INFO 2025-10-26 23:50:36,799 autoreload 2524 45676 Watching for file changes with StatReloader
INFO 2025-10-26 23:53:16,880 autoreload 2524 45676 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\accounts\apps.py changed, reloading.
INFO 2025-10-26 23:53:20,049 autoreload 24480 19992 Watching for file changes with StatReloader
INFO 2025-10-27 10:13:20,674 views 39012 44052 CreatePropertyView: User 1 attempting to create property
INFO 2025-10-27 10:13:20,677 views 39012 44052 Subscription found: free
INFO 2025-10-27 10:13:20,680 views 39012 44052 Current properties count: 0, max: 2
INFO 2025-10-27 10:13:20,685 views 39012 44052 Serializer valid, saving property for user 1
INFO 2025-10-27 10:13:20,694 views 39012 44052 Cache cleared for user 1
INFO 2025-10-27 10:13:20,695 views 39012 44052 Property created successfully: 1
INFO 2025-10-27 10:13:20,718 views 39012 44052 CreatePropertyView: User 1 attempting to create property
INFO 2025-10-27 10:13:20,729 views 39012 44052 Subscription found: free
INFO 2025-10-27 10:13:20,734 views 39012 44052 Current properties count: 1, max: 2
INFO 2025-10-27 10:13:20,744 views 39012 44052 Serializer valid, saving property for user 1
INFO 2025-10-27 10:13:20,746 views 39012 44052 Cache cleared for user 1
INFO 2025-10-27 10:13:20,747 views 39012 44052 Property created successfully: 2
INFO 2025-10-27 10:13:20,763 views 39012 44052 CreatePropertyView: User 1 attempting to create property
INFO 2025-10-27 10:13:20,767 views 39012 44052 Subscription found: free
INFO 2025-10-27 10:13:20,778 views 39012 44052 Current properties count: 2, max: 2
WARNING 2025-10-27 10:13:20,782 log 39012 44052 Forbidden: /api/accounts/properties/create/
WARNING 2025-10-27 10:13:25,569 log 39012 44052 Bad Request: /api/accounts/units/create/
WARNING 2025-10-27 10:13:26,759 log 39012 44052 Method Not Allowed: /api/payments/unit-types/
INFO 2025-10-27 10:14:38,802 autoreload 38384 10968 Watching for file changes with StatReloader
WARNING 2025-10-27 10:18:11,795 log 38384 4572 Bad Request: /api/accounts/token/
WARNING 2025-10-27 10:18:29,457 log 38384 7728 Not Found: /favicon.ico
INFO 2025-10-27 10:28:35,099 views 38384 12880 Subscription already exists for user 44
INFO 2025-10-27 10:28:35,101 views 38384 12880 Welcome email prepared for landlord@mail.com: Welcome to Makao Rentals - Your Landlord Account is Ready!
WARNING 2025-10-27 12:48:38,682 log 38384 15808 Unauthorized: /api/accounts/me/
WARNING 2025-10-27 12:48:38,690 log 38384 41844 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-27 12:48:38,704 log 38384 21928 Unauthorized: /api/communication/reports/
WARNING 2025-10-27 12:48:38,723 log 38384 15808 Unauthorized: /api/accounts/me/
WARNING 2025-10-27 12:48:38,737 log 38384 41844 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-27 12:48:38,753 log 38384 21928 Unauthorized: /api/communication/reports/
WARNING 2025-10-27 12:48:38,785 log 38384 15808 Unauthorized: /api/accounts/me/
WARNING 2025-10-27 12:48:38,832 log 38384 15808 Unauthorized: /api/accounts/me/
WARNING 2025-10-27 12:49:26,715 log 38384 41844 Bad Request: /api/accounts/token/
WARNING 2025-10-27 12:49:45,231 log 38384 41844 Bad Request: /api/accounts/token/
WARNING 2025-10-27 12:49:54,768 log 38384 41844 Bad Request: /api/accounts/token/
WARNING 2025-10-27 15:18:57,269 log 38384 76 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-27 15:18:57,338 log 38384 76 Unauthorized: /api/accounts/me/
WARNING 2025-10-27 15:18:57,395 log 38384 42312 Unauthorized: /api/communication/reports/
WARNING 2025-10-27 15:18:57,430 log 38384 76 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-27 15:18:57,502 log 38384 76 Unauthorized: /api/accounts/me/
WARNING 2025-10-27 15:18:57,524 log 38384 42312 Unauthorized: /api/communication/reports/
WARNING 2025-10-27 15:18:57,678 log 38384 6400 Unauthorized: /api/accounts/me/
WARNING 2025-10-27 15:18:57,751 log 38384 6400 Unauthorized: /api/accounts/me/
WARNING 2025-10-27 16:01:47,030 log 38384 24764 Not Found: /api/accounts/validate-landlord/
INFO 2025-10-27 16:02:12,403 views 38384 24764 Document uploaded for session 201bc849-b3b7-4e34-ae65-386f01254a76: GEORGE MWANGI GICHURU - ID FRONT.jpg
INFO 2025-10-27 16:02:22,313 views 38384 24764 Registration deposit STK push request: unit_id=190, phone=+254722714334, amount=30000
INFO 2025-10-27 16:02:22,320 views 38384 24764 Processing deposit payment: amount=30000.0, unit=A115
INFO 2025-10-27 16:02:24,609 views 38384 24764 Access token generated successfully: x4HojajTQtl1pIwCwxNa...
INFO 2025-10-27 16:02:24,610 views 38384 24764 Sending STK push request to: https://sandbox.safaricom.co.ke/mpesa/stkpush/v1/processrequest
INFO 2025-10-27 16:02:24,611 views 38384 24764 Payload: {'BusinessShortCode': '174379', 'Password': 'MTc0Mzc5YmZiMjc5ZjlhYTliZGJjZjE1OGU5N2RkNzFhNDY3Y2QyZTBjODkzMDU5YjEwZjc4ZTZiNzJhZGExZWQyYzkxOTIwMjUxMDI3MTYwMjI0', 'Timestamp': '20251027160224', 'TransactionType': 'CustomerPayBillOnline', 'Amount': 30000, 'PartyA': '254722714334', 'PartyB': '174379', 'PhoneNumber': '254722714334', 'CallBackURL': 'https://preaccommodatingly-nonabsorbable-joanie.ngrok-free.dev/api/payments/callback/deposit', 'AccountReference': 'DEPOSIT-REG-U-18-A115-e4c5e9c3', 'TransactionDesc': 'Deposit payment for A115'}
INFO 2025-10-27 16:02:26,682 views 38384 24764 M-Pesa response: Status=200, Data={'MerchantRequestID': 'bdf9-49a1-8fd7-afb07f067ed418717', 'CheckoutRequestID': 'ws_CO_27102025160225291722714334', 'ResponseCode': '0', 'ResponseDescription': 'Success. Request accepted for processing', 'CustomerMessage': 'Success. Request accepted for processing'}
ERROR 2025-10-27 16:02:37,494 log 38384 16476 Internal Server Error: /api/payments/callback/deposit
Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\deprecation.py", line 136, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\middleware\common.py", line 108, in process_response
    return self.response_redirect_class(self.get_full_path_with_slash(request))
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\middleware\common.py", line 87, in get_full_path_with_slash
    raise RuntimeError(
RuntimeError: You called this URL via POST, but the URL doesn't end in a slash and you have APPEND_SLASH set. Django can't redirect to the slash URL while maintaining POST data. Change your form to point to preaccommodatingly-nonabsorbable-joanie.ngrok-free.dev/api/payments/callback/deposit/ (note the trailing slash), or set APPEND_SLASH=False in your Django settings.
ERROR 2025-10-27 16:02:38,910 log 38384 30748 Internal Server Error: /api/payments/callback/deposit
Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\deprecation.py", line 136, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\middleware\common.py", line 108, in process_response
    return self.response_redirect_class(self.get_full_path_with_slash(request))
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\middleware\common.py", line 87, in get_full_path_with_slash
    raise RuntimeError(
RuntimeError: You called this URL via POST, but the URL doesn't end in a slash and you have APPEND_SLASH set. Django can't redirect to the slash URL while maintaining POST data. Change your form to point to preaccommodatingly-nonabsorbable-joanie.ngrok-free.dev/api/payments/callback/deposit/ (note the trailing slash), or set APPEND_SLASH=False in your Django settings.
ERROR 2025-10-27 16:02:40,751 log 38384 16364 Internal Server Error: /api/payments/callback/deposit
Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\deprecation.py", line 136, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\middleware\common.py", line 108, in process_response
    return self.response_redirect_class(self.get_full_path_with_slash(request))
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\middleware\common.py", line 87, in get_full_path_with_slash
    raise RuntimeError(
RuntimeError: You called this URL via POST, but the URL doesn't end in a slash and you have APPEND_SLASH set. Django can't redirect to the slash URL while maintaining POST data. Change your form to point to preaccommodatingly-nonabsorbable-joanie.ngrok-free.dev/api/payments/callback/deposit/ (note the trailing slash), or set APPEND_SLASH=False in your Django settings.
WARNING 2025-10-27 16:02:56,984 views 38384 24764 Unit with code 190 not found for landlord L-4C09E362DE
WARNING 2025-10-27 16:04:12,489 log 38384 24764 Bad Request: /api/accounts/token/
WARNING 2025-10-27 16:07:49,079 log 38384 42116 Bad Request: /api/accounts/token/
WARNING 2025-10-27 16:08:03,796 log 38384 42116 Bad Request: /api/accounts/token/
WARNING 2025-10-27 16:09:54,910 log 38384 24764 Bad Request: /api/accounts/token/
WARNING 2025-10-27 16:10:02,056 log 38384 24764 Bad Request: /api/accounts/token/
WARNING 2025-10-27 16:10:09,088 log 38384 24764 Bad Request: /api/accounts/token/
INFO 2025-10-27 16:57:32,905 views 38384 15884 Sending STK push to: https://sandbox.safaricom.co.ke/mpesa/stkpush/v1/processrequest
INFO 2025-10-27 16:57:32,906 views 38384 15884 Payload: {'BusinessShortCode': '174379', 'Password': 'MTc0Mzc5YmZiMjc5ZjlhYTliZGJjZjE1OGU5N2RkNzFhNDY3Y2QyZTBjODkzMDU5YjEwZjc4ZTZiNzJhZGExZWQyYzkxOTIwMjUxMDI3MTY1NzMy', 'Timestamp': '20251027165732', 'TransactionType': 'CustomerPayBillOnline', 'Amount': 6005, 'PartyA': '254778211794', 'PartyB': '174379', 'PhoneNumber': '254778211794', 'CallBackURL': 'https://preaccommodatingly-nonabsorbable-joanie.ngrok-free.dev/api/payments/callback/rent/', 'AccountReference': 'RENT-12-002-1E921910', 'TransactionDesc': 'Rent payment for 2'}
INFO 2025-10-27 16:57:35,880 views 38384 15884 STK push response: {'MerchantRequestID': 'a574-4fed-9f2e-99f3609e269b25685', 'CheckoutRequestID': 'ws_CO_27102025165734378778211794', 'ResponseCode': '0', 'ResponseDescription': 'Success. Request accepted for processing', 'CustomerMessage': 'Success. Request accepted for processing'}
INFO 2025-10-27 16:57:35,939 views 38384 15884 STK push initiated successfully. Payment ID: 106, Cache Key: stk_ws_CO_27102025165734378778211794
INFO 2025-10-27 16:57:36,900 views 38384 33360 Rent callback received: {'Body': {'stkCallback': {'MerchantRequestID': 'a574-4fed-9f2e-99f3609e269b25685', 'CheckoutRequestID': 'ws_CO_27102025165734378778211794', 'ResultCode': 2035, 'ResultDesc': 'The customer does not exist.'}}}
INFO 2025-10-27 16:57:36,900 views 38384 33360 Rent callback - ResultCode: 2035, CheckoutRequestID: ws_CO_27102025165734378778211794
ERROR 2025-10-27 16:57:36,901 views 38384 33360 Rent payment failed - ResultCode: 2035, Description: The customer does not exist.
INFO 2025-10-27 17:01:41,916 views 38384 37676 Subscription callback received: {'Body': {'stkCallback': {'MerchantRequestID': 'cbd0-4edb-b227-4837dafdaa6225142', 'CheckoutRequestID': 'ws_CO_27102025170131899722714334', 'ResultCode': 1032, 'ResultDesc': 'Request Cancelled by user.'}}}
INFO 2025-10-27 17:01:41,917 views 38384 37676 Subscription callback - ResultCode: 1032, CheckoutRequestID: ws_CO_27102025170131899722714334
ERROR 2025-10-27 17:01:41,917 views 38384 37676 Subscription payment failed - ResultCode: 1032, Description: Request Cancelled by user.
INFO 2025-10-27 21:44:00,279 autoreload 38384 10968 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-27 21:44:20,213 autoreload 30048 17804 Watching for file changes with StatReloader
INFO 2025-10-27 21:47:19,530 autoreload 30048 17804 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\app\settings.py changed, reloading.
INFO 2025-10-27 21:55:35,644 pesapal_service 5924 39804 Requesting PesaPal token from: https://cybqa.pesapal.com/pesapalv3/api/Auth/RequestToken
ERROR 2025-10-27 21:55:39,124 pesapal_service 5924 39804 No token in response: {'error': {'error_type': 'api_error', 'code': 'invalid_consumer_key_or_secret_provided', 'message': ''}, 'status': '500'}
INFO 2025-10-27 21:58:10,794 pesapal_service 32776 23812 Requesting PesaPal token from: https://cybqa.pesapal.com/pesapalv3/api/Auth/RequestToken
ERROR 2025-10-27 21:58:12,972 pesapal_service 32776 23812 No token in response: {'error': {'error_type': 'api_error', 'code': 'invalid_consumer_key_or_secret_provided', 'message': ''}, 'status': '500'}
INFO 2025-10-27 22:25:02,065 autoreload 42880 26992 Watching for file changes with StatReloader
INFO 2025-10-27 22:25:03,555 pesapal_service 42880 26992 PesaPal configured: env=sandbox, base_url=https://cybqa.pesapal.com/pesapalv3, key=GUSA***QYJu
INFO 2025-10-27 22:25:07,725 pesapal_service 45788 10596 PesaPal configured: env=sandbox, base_url=https://cybqa.pesapal.com/pesapalv3, key=GUSA***QYJu
INFO 2025-10-27 22:25:07,727 pesapal_service 45788 10596 Requesting PesaPal token from: https://cybqa.pesapal.com/pesapalv3/api/Auth/RequestToken
ERROR 2025-10-27 22:25:14,321 pesapal_service 45788 10596 No token in response: {'error': {'error_type': 'api_error', 'code': 'invalid_consumer_key_or_secret_provided', 'message': ''}, 'status': '500'}
INFO 2025-10-27 22:27:47,405 pesapal_service 30440 21848 PesaPal configured: env=sandbox, base_url=https://cybqa.pesapal.com/pesapalv3, key=GUSA***QYJu
INFO 2025-10-27 22:27:47,410 pesapal_service 30440 21848 Requesting PesaPal token from: https://cybqa.pesapal.com/pesapalv3/api/Auth/RequestToken
ERROR 2025-10-27 22:27:49,667 pesapal_service 30440 21848 No token in response: {'error': {'error_type': 'api_error', 'code': 'invalid_consumer_key_or_secret_provided', 'message': ''}, 'status': '500'}
INFO 2025-10-27 22:28:40,574 pesapal_service 31056 40312 PesaPal configured: env=sandbox, base_url=https://cybqa.pesapal.com/pesapalv3, key=GUSA***QYJu
INFO 2025-10-27 22:28:40,577 pesapal_service 31056 40312 Requesting PesaPal token from: https://cybqa.pesapal.com/pesapalv3/api/Auth/RequestToken
ERROR 2025-10-27 22:28:49,493 pesapal_service 31056 40312 No token in response: {'error': {'error_type': 'api_error', 'code': 'invalid_consumer_key_or_secret_provided', 'message': ''}, 'status': '500'}
INFO 2025-10-27 22:28:52,134 pesapal_service 31056 40312 Requesting PesaPal token from: https://cybqa.pesapal.com/pesapalv3/api/Auth/RequestToken
ERROR 2025-10-27 22:29:13,229 pesapal_service 31056 40312 PesaPal token generation error: HTTPSConnectionPool(host='cybqa.pesapal.com', port=443): Max retries exceeded with url: /pesapalv3/api/Auth/RequestToken (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001DC206A96A0>, 'Connection to cybqa.pesapal.com timed out. (connect timeout=30)'))
Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 753, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 207, in _new_conn
    raise ConnectTimeoutError(
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPSConnection object at 0x000001DC206A96A0>, 'Connection to cybqa.pesapal.com timed out. (connect timeout=30)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\adapters.py", line 486, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='cybqa.pesapal.com', port=443): Max retries exceeded with url: /pesapalv3/api/Auth/RequestToken (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001DC206A96A0>, 'Connection to cybqa.pesapal.com timed out. (connect timeout=30)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\pesapal_service.py", line 73, in get_access_token
    response = requests.post(url, json=payload, headers=headers, timeout=30)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\George Mwangi\AppData\Local\Programs\Python\Python312\Lib\site-packages\requests\adapters.py", line 507, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPSConnectionPool(host='cybqa.pesapal.com', port=443): Max retries exceeded with url: /pesapalv3/api/Auth/RequestToken (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001DC206A96A0>, 'Connection to cybqa.pesapal.com timed out. (connect timeout=30)'))
ERROR 2025-10-27 22:29:13,640 pesapal_service 31056 40312 Failed to get access token for IPN registration
INFO 2025-10-28 05:08:25,172 pesapal_service 40208 42592 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 05:08:25,178 pesapal_service 40208 42592 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:08:29,625 pesapal_service 40208 42592 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:09:13,283 autoreload 42880 26992 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\pesapal_service.py changed, reloading.
INFO 2025-10-28 05:09:16,118 autoreload 33644 33736 Watching for file changes with StatReloader
INFO 2025-10-28 05:09:16,874 pesapal_service 33644 33736 PesaPal configured: env=sandbox, base_url=https://cybqa.pesapal.com/pesapalv3, key=GUSA***QYJu
INFO 2025-10-28 05:09:21,733 autoreload 33644 33736 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\pesapal_service.py changed, reloading.
INFO 2025-10-28 05:09:24,643 autoreload 30672 38052 Watching for file changes with StatReloader
INFO 2025-10-28 05:09:25,370 pesapal_service 30672 38052 PesaPal configured: env=sandbox, base_url=https://cybqa.pesapal.com/pesapalv3, key=GUSA***QYJu
INFO 2025-10-28 05:09:29,346 autoreload 30672 38052 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 05:09:32,045 autoreload 32352 660 Watching for file changes with StatReloader
INFO 2025-10-28 05:09:32,556 pesapal_service 32352 660 PesaPal configured: env=sandbox, base_url=https://cybqa.pesapal.com/pesapalv3, key=GUSA***QYJu
INFO 2025-10-28 05:09:38,306 autoreload 32352 660 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 05:09:40,346 autoreload 35228 33376 Watching for file changes with StatReloader
INFO 2025-10-28 05:09:40,825 pesapal_service 35228 33376 PesaPal configured: env=sandbox, base_url=https://cybqa.pesapal.com/pesapalv3, key=GUSA***QYJu
INFO 2025-10-28 05:09:45,627 autoreload 35228 33376 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 05:09:48,597 autoreload 44600 37204 Watching for file changes with StatReloader
INFO 2025-10-28 05:09:49,072 pesapal_service 44600 37204 PesaPal configured: env=sandbox, base_url=https://cybqa.pesapal.com/pesapalv3, key=GUSA***QYJu
INFO 2025-10-28 05:09:52,699 autoreload 44600 37204 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 05:09:54,864 autoreload 18704 32656 Watching for file changes with StatReloader
INFO 2025-10-28 05:09:55,459 pesapal_service 18704 32656 PesaPal configured: env=sandbox, base_url=https://cybqa.pesapal.com/pesapalv3, key=GUSA***QYJu
INFO 2025-10-28 05:10:01,606 autoreload 18704 32656 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 05:10:04,146 autoreload 28756 7552 Watching for file changes with StatReloader
INFO 2025-10-28 05:10:04,670 pesapal_service 28756 7552 PesaPal configured: env=sandbox, base_url=https://cybqa.pesapal.com/pesapalv3, key=GUSA***QYJu
INFO 2025-10-28 05:10:08,335 autoreload 28756 7552 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 05:10:11,296 autoreload 15420 38632 Watching for file changes with StatReloader
INFO 2025-10-28 05:10:11,899 pesapal_service 15420 38632 PesaPal configured: env=sandbox, base_url=https://cybqa.pesapal.com/pesapalv3, key=GUSA***QYJu
INFO 2025-10-28 05:10:25,941 autoreload 15420 38632 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 05:10:28,179 autoreload 32392 30488 Watching for file changes with StatReloader
INFO 2025-10-28 05:10:28,645 pesapal_service 32392 30488 PesaPal configured: env=sandbox, base_url=https://cybqa.pesapal.com/pesapalv3, key=GUSA***QYJu
INFO 2025-10-28 05:11:49,299 autoreload 32392 30488 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\pesapal_service.py changed, reloading.
INFO 2025-10-28 05:11:51,998 autoreload 19208 36076 Watching for file changes with StatReloader
INFO 2025-10-28 05:11:52,605 pesapal_service 19208 36076 PesaPal configured: env=sandbox, base_url=https://cybqa.pesapal.com/pesapalv3, key=GUSA***QYJu
INFO 2025-10-28 05:11:55,611 autoreload 19208 36076 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 05:11:58,733 autoreload 35292 25780 Watching for file changes with StatReloader
INFO 2025-10-28 05:12:28,289 autoreload 35292 25780 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 05:12:30,584 autoreload 22952 40756 Watching for file changes with StatReloader
INFO 2025-10-28 05:12:31,063 pesapal_service 22952 40756 PesaPal configured: env=sandbox, base_url=https://cybqa.pesapal.com/pesapalv3, key=GUSA***QYJu
INFO 2025-10-28 05:12:45,565 pesapal_service 30392 5116 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 05:12:45,568 pesapal_service 30392 5116 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:12:47,563 pesapal_service 30392 5116 PesaPal access token generated and cached
INFO 2025-10-28 05:12:49,266 autoreload 22952 40756 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\pesapal_service.py changed, reloading.
INFO 2025-10-28 05:12:50,390 pesapal_service 30392 5116 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:12:51,380 pesapal_service 30392 5116 PesaPal access token generated and cached
INFO 2025-10-28 05:12:51,742 autoreload 35080 39360 Watching for file changes with StatReloader
INFO 2025-10-28 05:12:52,385 pesapal_service 35080 39360 PesaPal configured: env=sandbox, base_url=https://cybqa.pesapal.com/pesapalv3, key=GUSA***QYJu
INFO 2025-10-28 05:12:52,506 pesapal_service 30392 5116 IPN registered successfully: f0c86ceb-9eb8-446f-abfd-db2896bd6577
WARNING 2025-10-28 05:13:16,805 log 35080 26440 Not Found: /favicon.ico
WARNING 2025-10-28 05:13:27,924 log 35080 39440 Unauthorized: /api/communication/reports/
WARNING 2025-10-28 05:13:27,925 log 35080 28340 Unauthorized: /api/accounts/me/
WARNING 2025-10-28 05:13:27,927 log 35080 16628 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-28 05:13:27,936 log 35080 29140 Unauthorized: /api/communication/reports/
WARNING 2025-10-28 05:13:27,938 log 35080 16628 Unauthorized: /api/communication/reports/open/
WARNING 2025-10-28 05:13:27,941 log 35080 28340 Unauthorized: /api/accounts/me/
WARNING 2025-10-28 05:13:27,987 log 35080 28340 Unauthorized: /api/accounts/me/
WARNING 2025-10-28 05:13:28,005 log 35080 28340 Unauthorized: /api/accounts/me/
INFO 2025-10-28 05:25:22,977 pesapal_service 35080 10528 Requesting PesaPal token from: https://cybqa.pesapal.com/pesapalv3/api/Auth/RequestToken
ERROR 2025-10-28 05:25:25,027 pesapal_service 35080 10528 No token in response: {'error': {'error_type': 'api_error', 'code': 'invalid_consumer_key_or_secret_provided', 'message': ''}, 'status': '500'}
ERROR 2025-10-28 05:25:25,029 pesapal_service 35080 10528 Failed to get access token for order submission
WARNING 2025-10-28 05:25:25,100 log 35080 10528 Bad Request: /api/payments/initiate-rent-payment/70/
INFO 2025-10-28 05:28:34,583 autoreload 29684 10656 Watching for file changes with StatReloader
INFO 2025-10-28 05:28:35,409 pesapal_service 29684 10656 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 05:29:33,531 autoreload 38696 18160 Watching for file changes with StatReloader
INFO 2025-10-28 05:29:34,002 pesapal_service 38696 18160 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 05:32:19,042 pesapal_service 38696 30512 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:32:20,844 pesapal_service 38696 30512 PesaPal access token generated and cached
INFO 2025-10-28 05:32:20,846 pesapal_service 38696 30512 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:32:21,915 pesapal_service 38696 30512 PesaPal access token generated and cached
INFO 2025-10-28 05:32:22,826 pesapal_service 38696 30512 IPN registered successfully: f0c86ceb-9eb8-446f-abfd-db2896bd6577
INFO 2025-10-28 05:32:22,830 pesapal_service 38696 30512 Submitting PesaPal order: RENT-108-FE19B8B4, Amount: 6005.0
INFO 2025-10-28 05:32:22,830 pesapal_service 38696 30512 Payload: {
  "id": "RENT-108-FE19B8B4",
  "currency": "KES",
  "amount": 6005.0,
  "description": "Rent payment for 2",
  "callback_url": "http://localhost:5173/tenant/payments?payment_id=108",
  "notification_id": "f0c86ceb-9eb8-446f-abfd-db2896bd6577",
  "billing_address": {
    "phone_number": "254778211794",
    "email_address": "tenant5@test.com",
    "country_code": "KE"
  }
}
INFO 2025-10-28 05:32:25,097 pesapal_service 38696 30512 PesaPal order submitted: {'error': {'error_type': 'contractual_error', 'code': 'amount_exceeds_default_limit', 'message': 'Transaction amount exceeds limit.Contact support for assistance'}, 'status': '500'}
INFO 2025-10-28 05:32:25,150 views_pesapal 38696 30512 PesaPal rent payment initiated: payment_id=108, tracking_id=None
INFO 2025-10-28 05:36:21,495 autoreload 38696 18160 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 05:36:26,021 autoreload 17172 44108 Watching for file changes with StatReloader
INFO 2025-10-28 05:36:26,726 pesapal_service 17172 44108 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 05:36:42,093 autoreload 17172 44108 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 05:36:44,383 autoreload 1560 14600 Watching for file changes with StatReloader
INFO 2025-10-28 05:36:44,849 pesapal_service 1560 14600 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 05:37:06,478 autoreload 21008 41000 Watching for file changes with StatReloader
INFO 2025-10-28 05:37:06,929 pesapal_service 21008 41000 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 05:39:06,871 pesapal_service 17448 31444 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 05:39:06,874 pesapal_service 17448 31444 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:39:08,731 pesapal_service 17448 31444 PesaPal access token generated and cached
INFO 2025-10-28 05:39:09,614 pesapal_service 17448 31444 IPN registered successfully: f0c86ceb-9eb8-446f-abfd-db2896bd6577
INFO 2025-10-28 05:39:19,775 pesapal_service 30784 15632 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 05:39:19,779 pesapal_service 30784 15632 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:39:20,741 pesapal_service 30784 15632 PesaPal access token generated and cached
INFO 2025-10-28 05:39:21,855 pesapal_service 30784 15632 IPN registered successfully: f0c86ceb-9eb8-446f-abfd-db2896bd6577
INFO 2025-10-28 05:39:47,774 pesapal_service 1560 19924 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:39:48,795 pesapal_service 1560 19924 PesaPal access token generated and cached
INFO 2025-10-28 05:39:48,797 pesapal_service 1560 19924 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:39:49,777 pesapal_service 1560 19924 PesaPal access token generated and cached
INFO 2025-10-28 05:39:50,701 pesapal_service 1560 19924 IPN registered successfully: f0c86ceb-9eb8-446f-abfd-db2896bd6577
INFO 2025-10-28 05:39:50,703 pesapal_service 1560 19924 Submitting PesaPal order: RENT-109-5865A4F2, Amount: 700.0
INFO 2025-10-28 05:39:50,704 pesapal_service 1560 19924 Payload: {
  "id": "RENT-109-5865A4F2",
  "currency": "KES",
  "amount": 700.0,
  "description": "Rent payment for 2",
  "callback_url": "http://localhost:5173/tenant/payments?payment_id=109",
  "notification_id": "f0c86ceb-9eb8-446f-abfd-db2896bd6577",
  "billing_address": {
    "phone_number": "254778211794",
    "email_address": "tenant5@test.com",
    "country_code": "KE"
  }
}
INFO 2025-10-28 05:39:53,499 pesapal_service 1560 19924 PesaPal order submitted: {'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'merchant_reference': 'RENT-109-5865A4F2', 'redirect_url': 'https://pay.pesapal.com/iframe/PesapalIframe3/Index?OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2', 'error': None, 'status': '200'}
INFO 2025-10-28 05:39:53,554 views_pesapal 1560 19924 PesaPal rent payment initiated: payment_id=109, tracking_id=52d68008-fbe3-49eb-9783-db28ad8d66d2
INFO 2025-10-28 05:40:44,563 pesapal_service 1560 43620 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:40:45,543 pesapal_service 1560 43620 PesaPal access token generated and cached
INFO 2025-10-28 05:40:46,466 pesapal_service 1560 43620 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:40:47,548 pesapal_service 1560 43620 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:40:48,485 pesapal_service 1560 43620 PesaPal access token generated and cached
INFO 2025-10-28 05:40:49,480 pesapal_service 1560 43620 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:40:50,550 pesapal_service 1560 43620 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:40:51,543 pesapal_service 1560 43620 PesaPal access token generated and cached
INFO 2025-10-28 05:40:52,497 pesapal_service 1560 43620 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:40:53,555 pesapal_service 1560 43620 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:40:54,506 pesapal_service 1560 43620 PesaPal access token generated and cached
INFO 2025-10-28 05:40:55,468 pesapal_service 1560 43620 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:40:56,561 pesapal_service 1560 43620 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:40:57,648 pesapal_service 1560 43620 PesaPal access token generated and cached
INFO 2025-10-28 05:40:58,633 pesapal_service 1560 43620 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:40:59,863 pesapal_service 1560 41140 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:00,938 pesapal_service 1560 41140 PesaPal access token generated and cached
INFO 2025-10-28 05:41:02,046 pesapal_service 1560 41140 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:41:02,549 pesapal_service 1560 41140 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:03,564 pesapal_service 1560 41140 PesaPal access token generated and cached
INFO 2025-10-28 05:41:04,757 pesapal_service 1560 41140 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:41:06,342 pesapal_service 1560 41140 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:07,439 pesapal_service 1560 41140 PesaPal access token generated and cached
INFO 2025-10-28 05:41:08,388 pesapal_service 1560 41140 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:41:09,643 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:10,704 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:41:11,683 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:41:12,327 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:13,263 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:41:14,150 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:41:15,327 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:17,356 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:41:18,273 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:41:18,322 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:19,230 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:41:20,127 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:41:21,331 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:22,367 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:41:23,284 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:41:24,331 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:25,256 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:41:26,137 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:41:27,380 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:28,361 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:41:29,301 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:41:30,330 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:31,281 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:41:32,248 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:41:33,328 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:34,252 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:41:35,191 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:41:36,335 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:37,293 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:41:38,216 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:41:39,333 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:40,271 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:41:41,177 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:41:42,335 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:43,333 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:41:44,291 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:41:44,565 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:45,898 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:41:47,101 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:41:47,544 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:48,528 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:41:49,472 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:41:51,337 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:52,390 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:41:53,339 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:41:54,334 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:55,285 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:41:56,473 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:41:57,335 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:41:58,412 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:41:59,366 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:42:00,343 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:42:01,705 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:42:03,215 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:42:03,343 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:42:04,327 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:42:05,433 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:42:06,330 pesapal_service 1560 29712 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:42:07,350 pesapal_service 1560 29712 PesaPal access token generated and cached
INFO 2025-10-28 05:42:08,479 pesapal_service 1560 29712 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:42:09,645 pesapal_service 1560 35036 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:42:10,662 pesapal_service 1560 35036 PesaPal access token generated and cached
INFO 2025-10-28 05:42:12,548 pesapal_service 1560 35036 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:42:12,577 pesapal_service 1560 35036 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:42:14,578 pesapal_service 1560 35036 PesaPal access token generated and cached
INFO 2025-10-28 05:42:18,837 pesapal_service 1560 35036 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:42:18,906 pesapal_service 1560 35036 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:42:21,528 pesapal_service 1560 35036 PesaPal access token generated and cached
INFO 2025-10-28 05:42:23,844 pesapal_service 1560 35036 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:42:23,883 pesapal_service 1560 35036 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:42:25,135 pesapal_service 1560 35036 PesaPal access token generated and cached
INFO 2025-10-28 05:42:26,260 pesapal_service 1560 35036 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:42:26,285 pesapal_service 1560 35036 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:42:27,539 pesapal_service 1560 35036 PesaPal access token generated and cached
INFO 2025-10-28 05:42:28,610 pesapal_service 1560 35036 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:42:28,645 pesapal_service 1560 35036 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:42:29,847 pesapal_service 1560 35036 PesaPal access token generated and cached
INFO 2025-10-28 05:42:31,489 pesapal_service 1560 35036 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:42:31,514 pesapal_service 1560 35036 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:42:33,175 pesapal_service 1560 35036 PesaPal access token generated and cached
INFO 2025-10-28 05:42:34,164 pesapal_service 1560 35036 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:42:34,183 pesapal_service 1560 35036 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:42:35,295 pesapal_service 1560 35036 PesaPal access token generated and cached
INFO 2025-10-28 05:42:36,666 pesapal_service 1560 35036 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:42:36,691 pesapal_service 1560 35036 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:42:37,786 pesapal_service 1560 35036 PesaPal access token generated and cached
INFO 2025-10-28 05:42:39,165 pesapal_service 1560 35036 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:42:39,186 pesapal_service 1560 35036 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:42:40,495 pesapal_service 1560 35036 PesaPal access token generated and cached
INFO 2025-10-28 05:42:41,746 pesapal_service 1560 35036 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:42:41,814 pesapal_service 1560 44068 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:42:42,925 pesapal_service 1560 44068 PesaPal access token generated and cached
INFO 2025-10-28 05:42:44,479 pesapal_service 1560 44068 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:42:44,527 pesapal_service 1560 44068 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:42:46,632 pesapal_service 1560 44068 PesaPal access token generated and cached
INFO 2025-10-28 05:42:48,508 pesapal_service 1560 44068 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:42:48,532 pesapal_service 1560 44068 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:42:49,846 pesapal_service 1560 44068 PesaPal access token generated and cached
INFO 2025-10-28 05:42:51,179 pesapal_service 1560 44068 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:42:51,204 pesapal_service 1560 44068 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:42:52,854 pesapal_service 1560 44068 PesaPal access token generated and cached
INFO 2025-10-28 05:42:54,194 pesapal_service 1560 44068 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:43:23,635 pesapal_service 1560 17832 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:43:24,666 pesapal_service 1560 17832 PesaPal access token generated and cached
INFO 2025-10-28 05:43:25,660 pesapal_service 1560 17832 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:44:23,646 pesapal_service 1560 26872 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:44:24,567 pesapal_service 1560 26872 PesaPal access token generated and cached
INFO 2025-10-28 05:44:25,464 pesapal_service 1560 26872 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:45:23,672 pesapal_service 1560 14420 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:45:24,824 pesapal_service 1560 14420 PesaPal access token generated and cached
INFO 2025-10-28 05:45:26,080 pesapal_service 1560 14420 Transaction status for 52d68008-fbe3-49eb-9783-db28ad8d66d2: {'payment_method': '', 'amount': 700.0, 'created_date': '2025-10-28T05:39:52.333', 'confirmation_code': '', 'order_tracking_id': '52d68008-fbe3-49eb-9783-db28ad8d66d2', 'payment_status_description': 'INVALID', 'description': None, 'message': 'Request processed successfully', 'payment_account': '', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2', 'status_code': 0, 'merchant_reference': 'RENT-109-5865A4F2', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=109&OrderTrackingId=52d68008-fbe3-49eb-9783-db28ad8d66d2&OrderMerchantReference=RENT-109-5865A4F2'}, 'status': '500'}
INFO 2025-10-28 05:51:29,494 pesapal_service 1560 9288 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:51:31,210 pesapal_service 1560 9288 PesaPal access token generated and cached
INFO 2025-10-28 05:51:31,212 pesapal_service 1560 9288 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:51:32,916 pesapal_service 1560 9288 PesaPal access token generated and cached
INFO 2025-10-28 05:51:33,965 pesapal_service 1560 9288 IPN registered successfully: f0c86ceb-9eb8-446f-abfd-db2896bd6577
INFO 2025-10-28 05:51:33,967 pesapal_service 1560 9288 Submitting PesaPal order: RENT-110-4AB75068, Amount: 10.0
INFO 2025-10-28 05:51:33,967 pesapal_service 1560 9288 Payload: {
  "id": "RENT-110-4AB75068",
  "currency": "KES",
  "amount": 10.0,
  "description": "Rent payment for 2",
  "callback_url": "http://localhost:5173/tenant/payments?payment_id=110",
  "notification_id": "f0c86ceb-9eb8-446f-abfd-db2896bd6577",
  "billing_address": {
    "phone_number": "254778211794",
    "email_address": "tenant5@test.com",
    "country_code": "KE"
  }
}
INFO 2025-10-28 05:51:36,340 pesapal_service 1560 9288 PesaPal order submitted: {'order_tracking_id': '69f6c282-8623-4ab9-a9ef-db28aee6e19a', 'merchant_reference': 'RENT-110-4AB75068', 'redirect_url': 'https://pay.pesapal.com/iframe/PesapalIframe3/Index?OrderTrackingId=69f6c282-8623-4ab9-a9ef-db28aee6e19a', 'error': None, 'status': '200'}
INFO 2025-10-28 05:51:36,415 views_pesapal 1560 9288 PesaPal rent payment initiated: payment_id=110, tracking_id=69f6c282-8623-4ab9-a9ef-db28aee6e19a
INFO 2025-10-28 05:52:10,952 pesapal_service 1560 30812 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:52:11,933 pesapal_service 1560 30812 PesaPal access token generated and cached
INFO 2025-10-28 05:52:12,864 pesapal_service 1560 30812 Transaction status for 69f6c282-8623-4ab9-a9ef-db28aee6e19a: {'payment_method': 'MpesaKE', 'amount': 10.0, 'created_date': '2025-10-28T05:52:09.607', 'confirmation_code': 'TJSPV8G2AK', 'order_tracking_id': '69f6c282-8623-4ab9-a9ef-db28aee6e19a', 'payment_status_description': 'Completed', 'description': None, 'message': 'Request processed successfully', 'payment_account': '2547xxx14334', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=110&OrderTrackingId=69f6c282-8623-4ab9-a9ef-db28aee6e19a&OrderMerchantReference=RENT-110-4AB75068', 'status_code': 1, 'merchant_reference': 'RENT-110-4AB75068', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': None, 'code': None, 'message': None}, 'status': '200'}
INFO 2025-10-28 05:52:12,867 views_pesapal 1560 30812 Transaction status: completed, method: MpesaKE, code: TJSPV8G2AK
WARNING 2025-10-28 05:52:12,867 views_pesapal 1560 30812 No cached data found for 69f6c282-8623-4ab9-a9ef-db28aee6e19a
INFO 2025-10-28 05:52:30,243 pesapal_service 1560 24176 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 05:52:31,170 pesapal_service 1560 24176 PesaPal access token generated and cached
INFO 2025-10-28 05:52:32,191 pesapal_service 1560 24176 Transaction status for 69f6c282-8623-4ab9-a9ef-db28aee6e19a: {'payment_method': 'MpesaKE', 'amount': 10.0, 'created_date': '2025-10-28T05:52:09.607', 'confirmation_code': 'TJSPV8G2AK', 'order_tracking_id': '69f6c282-8623-4ab9-a9ef-db28aee6e19a', 'payment_status_description': 'Completed', 'description': None, 'message': 'Request processed successfully', 'payment_account': '2547xxx14334', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=110&OrderTrackingId=69f6c282-8623-4ab9-a9ef-db28aee6e19a&OrderMerchantReference=RENT-110-4AB75068', 'status_code': 1, 'merchant_reference': 'RENT-110-4AB75068', 'account_number': None, 'payment_status_code': '', 'currency': 'KES', 'error': {'error_type': None, 'code': None, 'message': None}, 'status': '200'}
WARNING 2025-10-28 06:07:35,776 log 1560 36080 Bad Request: /api/payments/initiate-subscription-payment/
INFO 2025-10-28 06:10:00,000 autoreload 1560 14600 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 06:10:06,510 autoreload 38964 13076 Watching for file changes with StatReloader
INFO 2025-10-28 06:10:07,881 pesapal_service 38964 13076 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 06:10:20,552 autoreload 38964 13076 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\pesapal_service.py changed, reloading.
INFO 2025-10-28 06:10:24,052 autoreload 38596 36284 Watching for file changes with StatReloader
INFO 2025-10-28 06:10:24,529 pesapal_service 38596 36284 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 06:10:40,602 autoreload 38596 36284 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 06:10:43,026 autoreload 44820 45832 Watching for file changes with StatReloader
INFO 2025-10-28 06:10:43,532 pesapal_service 44820 45832 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 06:11:24,439 autoreload 18800 37656 Watching for file changes with StatReloader
INFO 2025-10-28 06:11:24,856 pesapal_service 18800 37656 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 06:12:44,618 pesapal_service 44820 8116 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 06:12:46,502 pesapal_service 44820 8116 PesaPal access token generated and cached
INFO 2025-10-28 06:12:46,504 pesapal_service 44820 8116 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 06:12:47,428 pesapal_service 44820 8116 PesaPal access token generated and cached
INFO 2025-10-28 06:12:48,338 pesapal_service 44820 8116 IPN registered successfully: f0c86ceb-9eb8-446f-abfd-db2896bd6577
INFO 2025-10-28 06:12:48,341 pesapal_service 44820 8116 Submitting PesaPal order: SUB-4-806DB17A, Amount: 2000.0
INFO 2025-10-28 06:12:48,341 pesapal_service 44820 8116 Payload: {
  "id": "SUB-4-806DB17A",
  "currency": "KES",
  "amount": 2000.0,
  "description": "Subscription payment for starter plan",
  "callback_url": "http://localhost:5173/landlord/subscription?payment_id=4",
  "notification_id": "f0c86ceb-9eb8-446f-abfd-db2896bd6577",
  "billing_address": {
    "phone_number": "254723456789",
    "email_address": "landlord2@test.com",
    "country_code": "KE"
  }
}
INFO 2025-10-28 06:12:50,545 pesapal_service 44820 8116 PesaPal order submitted: {'order_tracking_id': '94ad2632-06af-42e2-b1b3-db28f15930db', 'merchant_reference': 'SUB-4-806DB17A', 'redirect_url': 'https://pay.pesapal.com/iframe/PesapalIframe3/Index?OrderTrackingId=94ad2632-06af-42e2-b1b3-db28f15930db', 'error': None, 'status': '200'}
INFO 2025-10-28 06:12:50,589 views_pesapal 44820 8116 PesaPal subscription payment initiated: id=4, tracking_id=94ad2632-06af-42e2-b1b3-db28f15930db
INFO 2025-10-28 07:03:54,159 autoreload 44820 45832 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 07:03:58,505 autoreload 40856 11784 Watching for file changes with StatReloader
INFO 2025-10-28 07:03:59,278 pesapal_service 40856 11784 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 07:04:07,023 autoreload 40856 11784 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 07:04:09,354 autoreload 44040 20172 Watching for file changes with StatReloader
INFO 2025-10-28 07:04:10,013 pesapal_service 44040 20172 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 07:04:23,773 autoreload 44040 20172 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 07:04:25,926 autoreload 33964 3604 Watching for file changes with StatReloader
INFO 2025-10-28 07:04:26,607 pesapal_service 33964 3604 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 07:04:42,690 autoreload 33964 3604 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 07:04:45,137 autoreload 45960 38196 Watching for file changes with StatReloader
INFO 2025-10-28 07:04:45,656 pesapal_service 45960 38196 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 07:07:05,934 autoreload 45960 38196 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 07:07:08,371 autoreload 13296 36740 Watching for file changes with StatReloader
INFO 2025-10-28 07:07:08,870 pesapal_service 13296 36740 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 07:31:10,260 autoreload 13296 36740 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 07:31:13,172 autoreload 17480 16132 Watching for file changes with StatReloader
INFO 2025-10-28 07:31:13,648 pesapal_service 17480 16132 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 07:31:22,998 autoreload 17480 16132 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 07:31:25,053 autoreload 20716 3996 Watching for file changes with StatReloader
INFO 2025-10-28 07:31:25,551 pesapal_service 20716 3996 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
WARNING 2025-10-28 07:32:02,285 log 20716 22428 Bad Request: /api/accounts/token/
INFO 2025-10-28 07:32:36,931 payment_utils 20716 45944 Payment calculation - Amount: 12.0, Fee: 0.42, Total: 12.42
ERROR 2025-10-28 07:32:36,934 views_pesapal 20716 45944 Rent payment initiation error: name 'amount' is not defined
Traceback (most recent call last):
  File "C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py", line 102, in initiate_rent_payment
    amount=amount,
           ^^^^^^
NameError: name 'amount' is not defined
ERROR 2025-10-28 07:32:36,970 log 20716 45944 Internal Server Error: /api/payments/initiate-rent-payment/70/
INFO 2025-10-28 07:33:05,200 autoreload 20716 3996 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 07:33:09,998 autoreload 36748 30480 Watching for file changes with StatReloader
INFO 2025-10-28 07:33:10,999 pesapal_service 36748 30480 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 07:33:58,153 autoreload 36748 30480 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 07:34:02,171 autoreload 16128 23860 Watching for file changes with StatReloader
INFO 2025-10-28 07:34:04,725 pesapal_service 16128 23860 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 07:36:30,212 payment_utils 16128 18444 Payment calculation - Amount: 12.0, Fee: 0.42, Total: 12.42
INFO 2025-10-28 07:36:30,396 pesapal_service 16128 18444 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 07:36:32,774 pesapal_service 16128 18444 PesaPal access token generated and cached
INFO 2025-10-28 07:36:32,778 pesapal_service 16128 18444 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 07:36:34,266 pesapal_service 16128 18444 PesaPal access token generated and cached
INFO 2025-10-28 07:36:35,681 pesapal_service 16128 18444 IPN registered successfully: f0c86ceb-9eb8-446f-abfd-db2896bd6577
INFO 2025-10-28 07:36:35,696 pesapal_service 16128 18444 Submitting PesaPal order: RENT-111-32BA80C0, Amount: 12.42
INFO 2025-10-28 07:36:35,698 pesapal_service 16128 18444 Payload: {
  "id": "RENT-111-32BA80C0",
  "currency": "KES",
  "amount": 12.42,
  "description": "Rent payment for 2",
  "callback_url": "http://localhost:5173/tenant/payments?payment_id=111",
  "notification_id": "f0c86ceb-9eb8-446f-abfd-db2896bd6577",
  "billing_address": {
    "phone_number": "254778211794",
    "email_address": "tenant5@test.com",
    "country_code": "KE"
  }
}
INFO 2025-10-28 07:36:38,143 pesapal_service 16128 18444 PesaPal order submitted: {'order_tracking_id': '6e9a8e2e-b7d7-4e8e-9c06-db2867cd3eba', 'merchant_reference': 'RENT-111-32BA80C0', 'redirect_url': 'https://pay.pesapal.com/iframe/PesapalIframe3/Index?OrderTrackingId=6e9a8e2e-b7d7-4e8e-9c06-db2867cd3eba', 'error': None, 'status': '200'}
INFO 2025-10-28 07:36:38,218 views_pesapal 16128 18444 PesaPal rent payment initiated: payment_id=111, tracking_id=6e9a8e2e-b7d7-4e8e-9c06-db2867cd3eba
INFO 2025-10-28 07:37:32,701 pesapal_service 16128 19876 Requesting PesaPal token from: https://pay.pesapal.com/v3/api/Auth/RequestToken
INFO 2025-10-28 07:37:33,884 pesapal_service 16128 19876 PesaPal access token generated and cached
INFO 2025-10-28 07:37:35,106 pesapal_service 16128 19876 Transaction status for 6e9a8e2e-b7d7-4e8e-9c06-db2867cd3eba: {'payment_method': 'MpesaKE', 'amount': 13.0, 'created_date': '2025-10-28T07:37:30.85', 'confirmation_code': '13139751', 'order_tracking_id': '6e9a8e2e-b7d7-4e8e-9c06-db2867cd3eba', 'payment_status_description': 'Failed', 'description': None, 'message': 'Request processed successfully', 'payment_account': '2547xxx14334', 'call_back_url': 'http://localhost:5173/tenant/payments?payment_id=111&OrderTrackingId=6e9a8e2e-b7d7-4e8e-9c06-db2867cd3eba&OrderMerchantReference=RENT-111-32BA80C0', 'status_code': 2, 'merchant_reference': 'RENT-111-32BA80C0', 'account_number': None, 'payment_status_code': 'request_terminated_by_user', 'currency': 'KES', 'error': {'error_type': None, 'code': None, 'message': None}, 'status': '200'}
INFO 2025-10-28 07:37:35,117 views_pesapal 16128 19876 Transaction status: failed, method: MpesaKE, code: 13139751
INFO 2025-10-28 07:37:35,178 views_pesapal 16128 19876 Payment 111 marked as failed: failed
INFO 2025-10-28 07:38:12,782 autoreload 16128 23860 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 07:38:18,280 autoreload 42248 34572 Watching for file changes with StatReloader
INFO 2025-10-28 07:38:19,574 pesapal_service 42248 34572 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 07:38:35,344 autoreload 42248 34572 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 07:38:39,205 autoreload 21920 42276 Watching for file changes with StatReloader
INFO 2025-10-28 07:38:40,268 pesapal_service 21920 42276 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 07:38:54,840 autoreload 21920 42276 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 07:39:01,007 autoreload 2176 39716 Watching for file changes with StatReloader
INFO 2025-10-28 07:39:01,891 pesapal_service 2176 39716 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 07:39:29,824 autoreload 2176 39716 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 07:39:35,547 autoreload 20464 41440 Watching for file changes with StatReloader
INFO 2025-10-28 07:39:36,728 pesapal_service 20464 41440 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
INFO 2025-10-28 07:39:52,408 autoreload 20464 41440 C:\Users\George Mwangi\Desktop\MAKAU-RENTALS-V5\Makau Rentals\app\payments\views_pesapal.py changed, reloading.
INFO 2025-10-28 07:39:56,774 autoreload 35668 7712 Watching for file changes with StatReloader
INFO 2025-10-28 07:39:57,797 pesapal_service 35668 7712 PesaPal configured: env=live, base_url=https://pay.pesapal.com/v3, key=GUSA***QYJu
